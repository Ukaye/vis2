SelfService.aspx
Earlier this year
May 31

You uploaded an item
Unknown File
SelfService.aspx
ï»¿<%@ Page Title="selfservice " Language="C#" MasterPageFile="~/MasterPage.master" AutoEventWireup="true" CodeFile="SelfService.aspx.cs" Inherits="SelfService" %>

<%--<asp:Content ID="Content1" ContentPlaceHolderID="head" Runat="Server">
</asp:Content>
<asp:Content ID="Content2" ContentPlaceHolderID="ContentPlaceHolder1" Runat="Server">
</asp:Content>--%>

<asp:Content ID="Content2" ContentPlaceHolderID="ContentPlaceHolder1" runat="Server">
    <div class="main-content">
        <div class="main-content-inner">
            <!-- #section:basics/content.breadcrumbs -->
            <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
            <meta charset="utf-8" />
            <title>Self Service</title>

            <meta name="description" content="Manage Job Roles" />
            <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />

            <!-- bootstrap & fontawesome -->
            <link rel="stylesheet" href="../assets/css/bootstrap.css" />
            <link rel="stylesheet" href="../components/font-awesome/css/font-awesome.css" />

            <!-- page specific plugin styles -->
            <link rel="stylesheet" href="../components/_mod/jquery-ui.custom/jquery-ui.custom.css" />
            <link rel="stylesheet" href="../components/chosen/chosen.css" />

            <!-- text fonts -->
            <link rel="stylesheet" href="../assets/css/ace-fonts.css" />

            <!-- ace styles -->
            <link rel="stylesheet" href="../assets/css/ace.css" class="ace-main-stylesheet" id="main-ace-style" />

            <!--[if lte IE 9]>
			<link rel="stylesheet" href="../assets/css/ace-part2.css" class="ace-main-stylesheet" />
		<![endif]-->
            <link rel="stylesheet" href="../assets/css/ace-skins.css" />
            <link rel="stylesheet" href="../assets/css/ace-rtl.css" />
            <script src="assets/sweetalert/dist/sweetalert.min.js" type="text/javascript"></script>
            <link rel="stylesheet" href="assets/sweetalert/dist/sweetalert.css" />
            <link href="assets/sweetalert/dist/sweetalert.css" rel="stylesheet" />
            <script src="assets/sweetalert/dist/sweetalert.min.js"></script>



            <style>
                .formatWhileTypingAndWarnOnDecimalsEntered2 {
                    color: #85858 !important;
                }

                .profile-info-name {
                    text-align: left !important
                }

                .profile-info-value {
                    text-align: left !important
                }
            </style>
            <!--[if lte IE 9]>
		  <link rel="stylesheet" href="../assets/css/ace-ie.css" />
		<![endif]-->

            <!-- inline styles related to this page -->

            <!-- ace settings handler -->
            <script src="../assets/js/ace-extra.js"></script>

            <!-- HTML5shiv and Respond.js for IE8 to support HTML5 elements and media queries -->

            <!--[if lte IE 8]>
		<script src="../components/html5shiv/dist/html5shiv.min.js"></script>
		<script src="../components/respond/dest/respond.min.js"></script>
		<![endif]-->
            <script src="../components/jquery/dist/jquery.js"></script>

            <script src="../assets/js/ace-extra.js"></script>

            <script type="text/javascript">
                if (typeof window.JSON == 'undefined') {
                    document.write('<script src="../scripts/json2.js"><\/script>');
                }

                ////Request type
                //$(function () {
                //    $.ajax({
                //        type: "POST",
                //        url: "SelfService.aspx/_getRequestType",
                //        data: '{}',
                //        contentType: "application/json; charset=utf-8",
                //        dataType: "json",
                //        success: function (response) {
                //            var request_type = $("[id*=request_type]");
                //            request_type.empty().append('<option selected="selected" value="" id = "0">All Requests</option>');
                //            $.each(JSON.parse(response.d), function (key, val) {
                //                $("#request_type").append('<option id="' + val.ID + '" value="' + val.Request_Name + '">' + val.Request_Name + '</option>');
                //            });
                //        }
                //    });
                //});

                //Leave type
                $(function () {
                    $.ajax({
                        type: "POST",
                        url: "SelfService.aspx/_getLeaveType",
                        data: '{}',
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (response) {
                            var leave_type = $("[id*=leave_type]");
                            leave_type.empty().append('<option selected="selected" value="0" id = "0">Choose Leave Type</option>');
                            $.each(JSON.parse(response.d), function (key, val) {
                                $("#leave_type").append('<option id="' + val.ID + '" value="' + val.LeaveType + '">' + val.LeaveType + '</option>');
                            });
                        }
                    });
                });

                //Stand-in
                $(function () {
                    $.ajax({
                        type: "POST",
                        url: "SelfService.aspx/_getColleague",
                        data: '{}',
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (response) {
                            var stand_in = $("[id*=stand_in]");
                            var fill_in = $("[id*=fill_in]");
                            var manager = $("[id*=manager]");
                            stand_in.empty().append('<option selected="selected" value="0" id = "0" name = "">Choose Replacing Colleague</option>');
                            fill_in.empty().append('<option selected="selected" value="0" id = "0" name = "">Choose Replacing Colleague</option>');
                            manager.empty().append('<option selected="selected" value="0" id = "0" name = "">Choose Line Manager</option>');
                            $.each(JSON.parse(response.d), function (key, val) {
                                var name = val.First_Name + ' ' + val.Last_Name;
                                $("#stand_in").append('<option id="' + val.ID + '" name = "' + name + '">' + val.First_Name + ' ' + val.Last_Name + ' (' + val.Company + ' - ' + val.Department + ' )</option>');
                                $("#fill_in").append('<option id="' + val.ID + '" name = "' + name + '">' + val.First_Name + ' ' + val.Last_Name + ' (' + val.Company + ' - ' + val.Department + ' )</option>');
                                $("#manager").append('<option id="' + val.ID + '" name = "' + name + '">' + val.First_Name + ' ' + val.Last_Name + ' (' + val.Company + ' - ' + val.Department + ' )</option>');
                            });
                        }
                    });
                });

                //Repayment Plan
                $(function () {
                    $.ajax({
                        type: "POST",
                        url: "SelfService.aspx/_getRepaymentPlans",
                        data: '{}',
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (response) {
                            var loan_repayment = $("[id*=loan_repayment]");
                            var leaserepayment = $("[id*=lease_repayment]");
                            var loanrepaymentplan = $("[id*=loan_repaymentPlan]");
                            loan_repayment.empty().append('<option selected="selected" value="0" id = "0">Choose Repayment Plan</option>');
                            leaserepayment.empty().append('<option selected="selected" value="0" id = "0">Choose Lease Payment Plan</option>');
                            loanrepaymentplan.empty().append('<option selected="selected" value="0" id = "0">Select Loan Servicing Plan</option>');
                            $.each(JSON.parse(response.d), function (key, val) {
                                $("#loan_repayment").append('<option id="' + val.ID + '">' + val.Repayment_Plan + '</option>');
                                $("#lease_repayment").append('<option id="' + val.ID + '">' + val.Repayment_Plan + '</option>');
                                $("#loan_repaymentPlan").append('<option id="' + val.ID + '">' + val.Repayment_Plan + '</option>');
                            });
                        }
                    });
                });

                //Guarantor
                $(function () {
                    $.ajax({
                        type: "POST",
                        url: "SelfService.aspx/_chooseGuarantor",
                        data: '{}',
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (response) {
                            var guarantor = $("[id*=guarantor]");
                            var guarantor2 = $("[id*=guarantorT]");
                            guarantor.empty().append('<option selected="selected" value="0" id = "0" mail= "null">Choose Guarantor</option>');
                            guarantor2.empty().append('<option selected="selected" value="0" id = "0" mail= "null">Choose Guarantor</option>');
                            $.each(JSON.parse(response.d), function (key, val) {
                                var name = val.First_Name + ' ' + val.Last_Name;
                                $("#guarantor").append('<option id="' + val.ID + '" mail = "' + val.Email + '" name = "' + name + '">' + val.First_Name + ' ' + val.Last_Name + ' (' + val.Company + ' - ' + val.Department + ' )</option>');
                                $("#guarantorT").append('<option id="' + val.ID + '" mail = "' + val.Email + '" name = "' + name + '">' + val.First_Name + ' ' + val.Last_Name + ' (' + val.Company + ' - ' + val.Department + ' )</option>');
                            });
                        }
                    });
                });

                //Months
                $(function () {
                    $.ajax({
                        type: "POST",
                        url: "SelfService.aspx/_getMonth",
                        data: '{}',
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (response) {
                            var deducting_month = $("[id*=deducting_month]");
                            deducting_month.empty().append('<option selected="selected" value="0" id = "0">Choose Month To Deduct From</option>');
                            $.each(JSON.parse(response.d), function (key, val) {
                                $("#deducting_month").append('<option id="' + val.ID + '">' + val.Month + '</option>');
                            });
                        }
                    });
                });

                //All Requests
                //loadAllRequests();

            </script>

            <div class="page-content">
                <!-- #section:settings.box -->
                <!-- /.ace-settings-container -->

                <!-- /section:settings.box -->
                <div class="page-header">
                    <h1>Self - Service
								<small>
                                    <i class="ace-icon fa fa-angle-double-right"></i>
                                    Create, Log and Monitor memos and requests
                                </small>
                    </h1>
                </div>
                <!-- /.page-header -->

                <div class="row">
                    <div class="col-xs-12">
                        <!-- PAGE CONTENT BEGINS -->
                        <form class="form-horizontal" role="form">
                            <!-- #section:elements.form -->

                            <div class="row">

                                <div class="col-xs-12 col-sm-9">
                                    <div class="widget-box">

                                        <div class="widget-header">
                                            <h4 class="widget-title" id="widget-title"></h4>

                                            <div class="widget-toolbar">
                                                <a href="#" data-action="collapse">
                                                    <i class="ace-icon fa fa-chevron-up"></i>
                                                </a>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="widget-body">
                                                <div class="widget-main" id="request_panel">

                                                    <div id="default_content">
                                                        <div class="page-header">

                                                            <div id="history_header" class="table-header">
                                                                Self -Service Request History
                                                                <span id="all" onclick="refresh(id)" class="pull-right" style="padding-right: 20px"><i class="ace-icon fa fa-refresh"></i></span>
                                                            </div>
                                                        </div>
                                                        <%--All Self-Service Requests History--%>
                                                        <div id="all_requests_history">
                                                            <div class="clearfix">
                                                                <div class="pull-right tableTools-container"></div>
                                                            </div>
                                                            <div class="table-header" id="history-header">
                                                            </div>
                                                            <%--<div class="input-group">
                                                                <span class="input-group-addon">
                                                                    <i class="ace-icon fa fa-check"></i>
                                                                </span>

                                                                <input type="text" id="history_search_item" class="form-control search-query" placeholder="Search by request type..." />
                                                                <span class="input-group-btn">
                                                                    <button id="history_search_request" type="button" value=" Search Requests" class="btn btn-transparent btn-sm">
                                                                        <span class="ace-icon fa fa-search icon-on-right bigger-110"></span>
                                                                        Search Requests
                                                                    </button>
                                                                </span>
                                                            </div>--%>
                                                            <!-- div.table-responsive -->

                                                            <!-- div.dataTables_borderWrap -->
                                                            <div>
                                                                <table class="table table-striped table-bordered table-hover">
                                                                    <thead>
                                                                        <tr>
                                                                            <th class="center col-xs-4 col-sm-4">
                                                                                <select class="chosen-select form-control col-xs-12 col-sm-12 request_type" runat="server" id="request_type" name="request_type">
                                                                                </select>
                                                                            </th>
                                                                            <th>Date Applied</th>
                                                                            <th>Status</th>
                                                                            <th class="hidden-480" colspan="2">Action</th>
                                                                        </tr>
                                                                    </thead>
                                                                    <div class="center center-block align-center">
                                                                        <img id="waitImageAll" alt="" src="images/wait.gif" style="display: none;" />
                                                                    </div>
                                                                    <tbody id="all_requests">
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div id="travel_requests" hidden="hidden">
                                                        <div class="page-header">
                                                            <div class="clearfix form-actions">
                                                                <div class="col-md-offset-2 col-md-9">
                                                                    <button id="initiate_travel_request" class="btn btn-primary btn-group-lg radius-4" type="button" style="text-align: left; float: center">
                                                                        <%--<i class="ace-icon fa fa-check bigger-110"></i>--%>
                                                                        <strong>New Travel Request
                                                                        </strong>
                                                                    </button>
                                                                    &nbsp; &nbsp; &nbsp;

                                                                    <button id="view_travel_requests" class="btn btn-info btn-group-lg radius-6" type="button" style="text-align: left;">
                                                                        <%--<i class="ace-icon fa fa-check bigger-110"></i>--%>
                                                                        <strong>View Travel History
                                                                        </strong>
                                                                    </button>
                                                                    &nbsp; &nbsp; &nbsp;
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div id="travel_contents">
                                                            <%--For Notifications--%>
                                                            <div id="travel_notifications">
                                                                <div id="already_exists" class="alert alert-info" hidden="hidden">
                                                                    <a href="#" class="close" data-dismiss="alert">&times;</a>
                                                                    <strong>Note!</strong> This condition already exists.
                                                                </div>
                                                                <div id="error_travel" class="alert alert-danger fade in" hidden="hidden">
                                                                    <a href="#" class="close" data-dismiss="alert">&times;</a>
                                                                    <strong>Error!</strong> Your Request Wasn't Submitted. <i>Please review details and try again</i>
                                                                </div>
                                                                <div id="success_travel" class="alert alert-success fade in" hidden="hidden">
                                                                    <a href="#" class="close" data-dismiss="alert">&times;</a>
                                                                    <strong>Success! </strong>Your Travel Request Has Been Submitted.
                                                                </div>
                                                            </div>
                                                            &nbsp;

                                                            <%--For New Travel Request--%>
                                                            <div id="new_travel_request" hidden="hidden">
                                                                <div id="travel_toggle" target="target" hidden="hidden"></div>
                                                                <div class="col-m6" id="widget-container-col-2">
                                                                    <div class="table-header">
                                                                        New Travel Request
                                                                    </div>
                                                                    &nbsp;
                                                                    <div class="form-group">
                                                                        <label class="col-sm-3 control-label no-padding-right" for="form-field-7">Travel Purpose </label>

                                                                        <div id="form-field-10" class="col-xs-12 col-sm-9">
                                                                            <input id="travel_purpose" class="col-xs-10 col-sm-9" />
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label class="col-sm-3 control-label no-padding-right" for="form-field-7">Departure from Station</label>

                                                                        <div class="col-sm-9">
                                                                            <input data-provide="datepicker" id="departure" class="col-xs-10 col-sm-6" />
                                                                            <select class="col-xs-10 col-sm-3" id="dep_time_of_day" name="dep_time_of_day">
                                                                                <option id="dep_morning">Morning</option>
                                                                                <option id="dep_afternoon">Afternoon</option>
                                                                                <option id="dep_evening">Evening</option>
                                                                            </select>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label class="col-sm-3 control-label no-padding-right" for="form-field-7">Arrival To Station</label>

                                                                        <div class="col-sm-9">
                                                                            <input data-provide="datepicker" id="arrival" class="col-xs-10 col-sm-6" />
                                                                            <select class="col-xs-10 col-sm-3" id="arr_time_of_day" name="arr_time_of_day">
                                                                                <option id="arr_morning">Morning</option>
                                                                                <option id="arr_afternoon">Afternoon</option>
                                                                                <option id="arr_evening">Evening</option>
                                                                            </select>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label class="col-sm-3 control-label no-padding-right" for="form-field-7">Ticket Type</label>

                                                                        <div class="col-sm-9">
                                                                            <div class="col-xs-12 col-sm-10">
                                                                                <div class="col-sm-6">
                                                                                    <input type="radio" name="ticket" id="oneway" value="oneway" />One way Trip
                                                                                </div>
                                                                                <div class="col-sm-6">
                                                                                    <input type="radio" name="ticket" id="return" value="return" />Return Trip
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label class="control-label col-xs-12 col-sm-3 no-padding-right" for="form-field-10">Filling - In Colleague</label>

                                                                        <div id="Div1" class="col-xs-7 col-sm-7">
                                                                            <div class="clearfix">
                                                                                <select class="chosen-select form-control col-xs-12 col-sm-12 fill_in" id="fill_in" name="fill_in" runat="server" data-placeholder="Choose Replacing Colleague"></select>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label for="form-field-8" class="control-label col-xs-12 col-sm-3 no-padding-right" for="platform">Benefit of Trip to Organization</label>

                                                                        <div class="col-sm-9">
                                                                            <textarea id="benefit" class="col-xs-10 col-sm-9"> </textarea>
                                                                        </div>
                                                                    </div>

                                                                    <div id="error_tv" class="alert alert-danger fade in" style="color: red; text-align: center" hidden="hidden"></div>

                                                                    <div class="widget-body">
                                                                        <div class="widget-main">
                                                                            <div class="clearfix form-actions">
                                                                                <div class="col-md-offset-3 col-md-9">
                                                                                    <button id="travel_save" class="btn btn-primary" type="button" style="text-align: left">
                                                                                        <i class="ace-icon fa fa-clock-o  bigger-110"></i>
                                                                                        Save Request
                                                                                    </button>

                                                                                    &nbsp; &nbsp; &nbsp;
                                                                                    <button id="travel_submit" class="btn btn-success" type="button" style="text-align: left; color: green">
                                                                                        <i class="ace-icon fa fa-check bigger-110"></i>
                                                                                        Submit Request
                                                                                    </button>

                                                                                    &nbsp; &nbsp; &nbsp;
											                                        <button class="btn" type="reset" style="text-align: right">
                                                                                        <i class="ace-icon fa fa-undo bigger-110"></i>
                                                                                        Reset
                                                                                    </button>
                                                                                </div>
                                                                            </div>
                                                                            <!-- /section:plugins/input.autosize -->
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <%--For Travel Requests History--%>
                                                            <div id="travel_request_history" hidden="hidden">
                                                                <div class="clearfix">
                                                                    <div class="pull-right tableTools-container"></div>
                                                                </div>
                                                                <div class="table-header">
                                                                    Your Travel History
                                                                    <span id="tvl" onclick="refresh(id)" class="pull-right" style="padding-right: 20px"><i class="ace-icon fa fa-refresh"></i></span>
                                                                </div>
                                                                <div class="input-group">
                                                                    <span class="input-group-addon">
                                                                        <i class="ace-icon fa fa-check"></i>
                                                                    </span>

                                                                    <input type="text" id="travel_search_item" class="form-control search-query" placeholder="Search by Date Applied..." />
                                                                    <span class="input-group-btn">
                                                                        <button id="travel_search_request" type="button" value=" Search Requests" class="btn btn-transparent btn-sm">
                                                                            <span class="ace-icon fa fa-search icon-on-right bigger-110"></span>
                                                                            Search Requests
                                                                        </button>
                                                                    </span>
                                                                </div>
                                                                <!-- div.table-responsive -->

                                                                <!-- div.dataTables_borderWrap -->
                                                                <div>
                                                                    <table class="table table-striped table-bordered table-hover">
                                                                        <thead>
                                                                            <tr>
                                                                                <th class="center">Purpose for Trip
                                                                                </th>
                                                                                <th>Departure Date</th>
                                                                                <th>Arrival Date</th>
                                                                                <th>Date Applied</th>
                                                                                <th class="hidden-480">Approval Status</th>
                                                                                <th class="hidden-480">Trip Status</th>
                                                                                <%--<th></th>--%>
                                                                            </tr>
                                                                        </thead>
                                                                        <div class="center center-block align-center">
                                                                            <img id="waitImage" alt="" src="images/wait.gif" style="display: none;" />
                                                                        </div>
                                                                        <tbody id="travel-table">
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>

                                                    <div id="leave_requests" name="leave_requests" hidden="hidden">
                                                        <div class="page-header">
                                                            <div class="clearfix form-actions">
                                                                <div class="col-md-offset-2 col-md-9">
                                                                    <button id="initiate_leave_request" class="btn btn-primary btn-group" type="button" style="text-align: left; float: center">
                                                                        <i class="ace-icon fa fa-check bigger-110"></i>
                                                                        New Leave Request
                                                                    </button>
                                                                    &nbsp; &nbsp; &nbsp;

                                                                    <button id="view_leave_requests" class="btn btn-info btn-group" type="button" style="text-align: left;">
                                                                        <i class="ace-icon fa fa-check bigger-110"></i>
                                                                        View Leave History
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div id="leave_content">
                                                            <%--For Leave Notifications--%>
                                                            <div id="leave_notifications">
                                                                <div id="error_leave" class="alert alert-danger fade in" hidden="hidden">
                                                                    <a href="#" class="close" data-dismiss="alert">&times;</a>
                                                                    <strong>Error!</strong> Your Request Wasn't Submitted.<i> Please review details and try again</i>
                                                                </div>
                                                                <div id="success_leave" class="alert alert-success fade in" hidden="hidden">
                                                                    <a href="#" class="close" data-dismiss="alert">&times;</a>
                                                                    <strong>Success! </strong>Your Leave Request Has Been Submitted.
                                                                </div>
                                                            </div>
                                                            &nbsp;

                                                            <%--For New Leave Request--%>
                                                            <div id="new_leave_request">
                                                                <div id="leave_toggle" target="target" hidden="hidden"></div>
                                                                <div id="leaveinfo" class="clearfix form-actions">
                                                                    <div id="back" style="text-align: center; padding: 20px" class="row">
                                                                        <span class="btn btn-bold" style="float: left">Days left on current leave:
                                                                            <input type="text" id="countdown" disabled="disabled" value="" />
                                                                        </span>
                                                                        <%--&nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp  &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp  &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp--%>

                                                                        <button id="imBack" class="btn btn-success" type="button" style="text-align: left; float: right">
                                                                            <i class="ace-icon fa fa-check bigger-110"></i>
                                                                            Back From Leave
                                                                        </button>
                                                                    </div>
                                                                    <div class="row" id="approvalmessage">
                                                                        <h2 class="header smaller lighter blue" style="text-align: center">You're Back, You Will Be Processed Shortly! </h2>
                                                                    </div>
                                                                </div>
                                                                &nbsp
                                                                &nbsp
                                                                &nbsp
                                                                &nbsp
                                                                &nbsp
                                                                &nbsp
                                                                &nbsp
                                                                &nbsp
                                                                &nbsp
                                                                &nbsp
                                                                &nbsp
                                                                &nbsp
                                                                &nbsp

                                                                <div class="col-m6" id="Div2">
                                                                    <div class="table-header">
                                                                        New Leave Request
                                                                        <span style="float: right; padding-right: 20px">Annual Number of leave days :
                                                                            <span id="annualLeaveDays" value=""></span>
                                                                        </span>
                                                                    </div>
                                                                    &nbsp;
                                                                    <div class="form-group">
                                                                        <label class="col-sm-3 control-label no-padding-right" for="form-field-7">Available Leave Days </label>

                                                                        <div id="Div3" class="col-xs-12 col-sm-9">
                                                                            <div class="clearfix">
                                                                                <input type="text" value="" disabled="disabled" id="remLeaveDays" class="col-xs-10 col-sm-3" />
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label class="col-sm-3 control-label no-padding-right" for="form-field-7">Leave Type </label>

                                                                        <div id="Div3" class="col-xs-12 col-sm-9">
                                                                            <div class="clearfix">
                                                                                <select class="col-xs-10 col-sm-9" id="leave_type" name="leave_type"></select>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group" id="sick_type">
                                                                        <label class="col-sm-3 control-label no-padding-right" for="form-field-7">Type of Ailment</label>

                                                                        <div id="Div4" class="col-xs-12 col-sm-9">
                                                                            <div class="clearfix">
                                                                                <select class="col-xs-10 col-sm-9" id="ailment" name="ailment"></select>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group" id="upd_reason">
                                                                        <label for="form-field-8" class="control-label col-xs-12 col-sm-3 no-padding-right" for="platform">Reason for Taking Unpaid Leave</label>

                                                                        <div class="col-sm-9">
                                                                            <textarea id="justification" class="col-xs-10 col-sm-9"> </textarea>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label class="col-sm-3 control-label no-padding-right" for="form-field-7">Leave Starts</label>

                                                                        <div class="col-sm-9">
                                                                            <input data-provide="datepicker" id="leave_starts" class="col-xs-10 col-sm-9" />
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label class="col-sm-3 control-label no-padding-right" for="form-field-7">Leave Ends</label>

                                                                        <div class="col-sm-9">
                                                                            <input data-provide="datepicker" id="leave_ends" class="col-xs-10 col-sm-9" />
                                                                        </div>
                                                                    </div>

                                                                    <%--<div class="form-group">
                                                                        <label class="col-sm-3 control-label no-padding-right" for="form-field-7">Number of Days</label>

                                                                        <div class="col-sm-9">
                                                                            <input id="leave_days" class="col-xs-10 col-sm-2" disabled="disabled"/> <span style="padding-left:20px">Days</span>
                                                                        </div>
                                                                    </div>--%>

                                                                    <div class="form-group">
                                                                        <label class="col-sm-3 control-label no-padding-right" for="form-field-7">Resumption Date</label>

                                                                        <div class="col-sm-9">
                                                                            <input data-provide="datepicker" id="resume_date" class="col-xs-10 col-sm-9" />
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label class="control-label col-xs-12 col-sm-3 no-padding-right" for="form-field-10">Stand - In</label>

                                                                        <div id="Div5" class="col-xs-7 col-sm-7">

                                                                            <table style="width: 600px" class="col-xs-12 col-sm-12">
                                                                                <tbody style="width: 600px" class="col-xs-12 col-sm-12">
                                                                                    <tr class="col-xs-12 col-sm-12">
                                                                                        <td class="col-xs-12 col-sm-12">
                                                                                            <select class="chosen-select form-control col-xs-12 col-sm-12 stand_in" id="stand_in" name="stand_in" runat="server"></select>
                                                                                        </td>
                                                                                    </tr>
                                                                                </tbody>
                                                                            </table>

                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label for="form-field-8" class="control-label col-xs-12 col-sm-3 no-padding-right" for="platform">Address While on Leave</label>

                                                                        <div class="col-sm-9">
                                                                            <textarea id="address_leave" class="col-xs-10 col-sm-9"> </textarea>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label for="form-field-8" class="control-label col-xs-12 col-sm-3 no-padding-right" for="platform">Phone Number</label>

                                                                        <div class="col-sm-9">
                                                                            <input type="number" id="phone_leave" class="col-xs-10 col-sm-9" />
                                                                        </div>
                                                                    </div>

                                                                    <div id="error_lv" class="alert alert-danger fade in" style="color: red; text-align: center" hidden="hidden"></div>

                                                                    <div class="widget-body">
                                                                        <div class="widget-main">
                                                                            <div class="clearfix form-actions">
                                                                                <div class="col-md-offset-3 col-md-9">
                                                                                    <button id="leave_save" class="btn btn-primary" type="button" style="text-align: left">
                                                                                        <i class="ace-icon fa fa-clock-o  bigger-110"></i>
                                                                                        Save Request
                                                                                    </button>

                                                                                    &nbsp; &nbsp; &nbsp;
                                                                                    <button id="leave_submit" class="btn btn-success" type="button" style="text-align: left">
                                                                                        <i class="ace-icon fa fa-check bigger-110"></i>
                                                                                        Submit Request
                                                                                    </button>

                                                                                    &nbsp; &nbsp; &nbsp;
                                                                                    <button class="btn" type="reset" style="text-align: right">
                                                                                        <i class="ace-icon fa fa-undo bigger-110"></i>
                                                                                        Reset
                                                                                    </button>
                                                                                </div>
                                                                            </div>
                                                                            <!-- /section:plugins/input.autosize -->
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <%--For Leave History--%>
                                                            <div id="leave_request_history" hidden="hidden">
                                                                <div class="clearfix">
                                                                    <div class="pull-right tableTools-container"></div>
                                                                </div>
                                                                <div class="table-header">
                                                                    Your Leave History
                                                                    <span id="lve" onclick="refresh(lve)" class="pull-right" style="padding-right: 20px"><i class="ace-icon fa fa-refresh"></i></span>
                                                                </div>
                                                                <div class="input-group">
                                                                    <span class="input-group-addon">
                                                                        <i class="ace-icon fa fa-check"></i>
                                                                    </span>

                                                                    <input type="text" id="leave_search_item" class="form-control search-query" placeholder="Search by Leave Type..." />
                                                                    <span class="input-group-btn">
                                                                        <button id="leave_search_request" type="button" value="Search Requests" class="btn btn-transparent btn-sm">
                                                                            <span class="ace-icon fa fa-search icon-on-right bigger-110"></span>
                                                                            Search Leave History
                                                                        </button>
                                                                    </span>
                                                                </div>
                                                                <!-- div.table-responsive -->

                                                                <!-- div.dataTables_borderWrap -->
                                                                <div>
                                                                    <table class="table table-striped table-bordered table-hover">
                                                                        <thead>
                                                                            <tr>
                                                                                <th class="center">Leave Type
                                                                                </th>
                                                                                <th>Leave Begins</th>
                                                                                <th>Leave Ends</th>
                                                                                <th>Resumption Date</th>
                                                                                <th>Date Applied</th>
                                                                                <th class="hidden-480">Approval Status</th>
                                                                                <th class="hidden-480">Leave Status</th>
                                                                                <%--<th>Leave Status
                                                                                </th>
                                                                                <th></th>--%>
                                                                            </tr>
                                                                        </thead>
                                                                        <div class="center center-block align-center">
                                                                            <img id="waitImageLv" alt="" src="images/wait.gif" style="display: none;" />
                                                                        </div>
                                                                        <tbody id="leave-table">
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div id="staff_loans" hidden="hidden">
                                                        <div class="page-header">
                                                            <div class="clearfix form-actions">
                                                                <div class="col-md-offset-2 col-md-9">
                                                                    <button id="initiate_loan_request" class="btn btn-primary btn-group" type="button" style="text-align: left; float: center">
                                                                        <i class="ace-icon fa fa-check bigger-110"></i>
                                                                        New Loan Request
                                                                    </button>
                                                                    &nbsp; &nbsp; &nbsp;

                                                                    <button id="view_loan_requests" class="btn btn-info btn-group" type="button" style="text-align: left;">
                                                                        <i class="ace-icon fa fa-check bigger-110"></i>
                                                                        View Loan History
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div id="loan_content">
                                                            <%--For Loan Notifications--%>
                                                            <div id="loan_notifications">
                                                                <div id="error_loan" class="alert alert-danger fade in" hidden="hidden">
                                                                    <a href="#" class="close" data-dismiss="alert">&times;</a>
                                                                    <strong>Error!</strong> Your Request Wasn't Submitted.<i>Please review details and try again</i>
                                                                </div>
                                                                <div id="success_loan" class="alert alert-success fade in" hidden="hidden">
                                                                    <a href="#" class="close" data-dismiss="alert">&times;</a>
                                                                    <strong>Success! </strong>Your Staff Loan Request Has Been Submitted.
                                                                </div>
                                                            </div>
                                                            &nbsp;

                                                            <%--For New Loan Request--%>
                                                            <div id="new_loan_request">
                                                                <div id="loan_toggle" target="target" hidden="hidden"></div>
                                                                <div class="col-m6" id="Div6">
                                                                    <div class="table-header">
                                                                        New Loan Request
                                                                    </div>
                                                                    &nbsp;
                                                                    <div class="form-group">
                                                                        <label for="form-field-8" class="control-label col-xs-12 col-sm-3 no-padding-right" for="platform">Loan Amount Required</label>

                                                                        <div class="col-sm-8">
                                                                            <input type="text" id="loan_amount" class="col-xs-10 col-sm-9 formatWhileTypingAndWarnOnDecimalsEntered2" />
                                                                        </div>

                                                                        <div class="col-sm-4">
                                                                            <span id="loan_amounterror" class="col-xs-10 col-sm-9" />
                                                                        </div>
                                                                    </div>
                                                                  <%--  <div id="email-error" class="help-block">Please provide a valid email.</div>--%>
                                                                    <%--                                                                    <div class="form-group">
                                                                        <label class="col-sm-3 control-label no-padding-right" for="form-field-7">Repayment Plan</label>

                                                                        <div id="Div7" class="col-xs-12 col-sm-9">
                                                                            <div class="clearfix">
                                                                                <select class="col-xs-10 col-sm-9" id="loan_repayment" name="loan_repayment"></select>
                                                                            </div>
                                                                        </div>
                                                                    </div>--%>

                                                                    <div class="form-group">
                                                                        <label for="form-field-8" class="control-label col-xs-12 col-sm-3 no-padding-right" for="platform">Purpose for Loan</label>

                                                                        <div class="col-sm-9">
                                                                            <textarea id="loan_purpose" class="col-xs-10 col-sm-9"> </textarea>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label for="form-field-8" class="control-label col-xs-12 col-sm-3 no-padding-right" for="platform">Loan Duration</label>

                                                                        <div class="col-sm-9">
                                                                            <input type="text" id="loan_duration" class="col-xs-10 col-sm-9" />
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label for="form-field-8" class="control-label col-xs-12 col-sm-3 no-padding-right" for="platform">Monthly Deduction</label>

                                                                        <div class="col-sm-9">
                                                                            <input type="text" id="monthly_deduction" disabled="disabled" class="col-xs-10 col-sm-9" />
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label for="form-field-8" class="control-label col-xs-12 col-sm-3 no-padding-right" for="platform">Total Deduction</label>

                                                                        <div class="col-sm-9">
                                                                            <input type="text" id="total_deduction" disabled="disabled" class="col-xs-10 col-sm-9" />
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label class="col-sm-3 control-label no-padding-right" for="form-field-7">Guarantor</label>

                                                                        <div id="Div8" class="col-xs-12 col-sm-9">
                                                                            <div class="clearfix">
                                                                                
                                                                                <select class="chosen-select form-control col-xs-10 col-sm-6 guarantor" id="guarantor" name="guarantor" runat="server"></select>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label class="col-sm-3 control-label no-padding-right" for="form-field-7">Guarantor 2 (Only Unconfirmed Staff)</label>

                                                                        <div id="Diva" class="col-xs-12 col-sm-9">
                                                                            <div class="clearfix">
                                                                                
                                                                                <select class="chosen-select form-control col-xs-10 col-sm-6 guarantorT" id="guarantorT" name="guarantorT" runat="server"></select>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    <div id="error_ln" class="alert alert-danger fade in" style="color: red; text-align: center" hidden="hidden"></div>

                                                                    <div id="terms_link" role="button"><small>Loan Terms and Conditions</small></div>

                                                                    <div id="terms">
                                                                        <p>
                                                                            THE LOAN TERM:
                                                                    <ul>
                                                                        <small>
                                                                            <li>The maximum loan a staff can apply for 200% of his/her monthly gross and must be a confirmed staff. However, Executive Trainee 1 and drivers can access up to N100,000.00 while Security officers and cleaners loan limit will be N80, 000.00 and N50, 000.00 respectively</li>
                                                                            <li>A staff cannot forfeit loan repayment in a particular month and transfer to the next month {once loan deductions starts}</li>
                                                                            <li>All loans are to be paid back within 12months duration.</li>
                                                                            <li>Staff members presently on a loan cannot apply for another loan until the previous loan is paid off</li>
                                                                            <li>The guarantor must be a confirmed staff and must be earning higher that his/her guarantee.</li>
                                                                            <li>Drivers, Cleaners and security personnel cannot guarantee any staff.</li>
                                                                            <li>If a guarantor resigns before the re-payment of your loan, you are expected to produce a new guarantor within a week otherwise the loan will be liquidated.</li>
                                                                            <li>If a staff resigns before the complete payment of his/her loan, the balance will be deducted from his final entitlement the outstanding (if any) must be paid within two weeks otherwise the guarantor salary will be debted within a maximum period of 6months.</li>
                                                                        </small>
                                                                    </ul>
                                                                        </p>
                                                                    </div>

                                                                    <div class="widget-body">
                                                                        <div class="widget-main">
                                                                            <div class="clearfix form-actions">
                                                                                <div class="col-md-offset-3 col-md-9">
                                                                                    <button id="staffloan_save" class="btn btn-primary" type="button" style="text-align: left">
                                                                                        <i class="ace-icon fa fa-clock-o bigger-110"></i>
                                                                                        Save Request
                                                                                    </button>

                                                                                    &nbsp; &nbsp; &nbsp;
                                                                                    <button id="staffloan_submit" class="btn btn-success" type="button" style="text-align: left">
                                                                                        <i class="ace-icon fa fa-check bigger-110"></i>
                                                                                        Submit Request
                                                                                    </button>

                                                                                    &nbsp; &nbsp; &nbsp;
											                                        <button class="btn" type="reset" style="text-align: right">
                                                                                        <i class="ace-icon fa fa-undo bigger-110"></i>
                                                                                        Reset
                                                                                    </button>
                                                                                </div>
                                                                            </div>
                                                                            <!-- /section:plugins/input.autosize -->
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <%--For Loan History--%>
                                                            <div id="loan_request_history" hidden="hidden">
                                                                <div class="clearfix">
                                                                    <div class="pull-right tableTools-container"></div>
                                                                </div>
                                                                <div class="table-header">
                                                                    Your Loans History
                                                                    <span id="lon" onclick="refresh(id)" class="pull-right" style="padding-right: 20px"><i class="ace-icon fa fa-refresh"></i></span>
                                                                </div>
                                                                <div class="input-group">
                                                                    <span class="input-group-addon">
                                                                        <i class="ace-icon fa fa-check"></i>
                                                                    </span>

                                                                    <input type="text" id="loan_search_item" class="form-control search-query" placeholder="Search by Date Applied..." />
                                                                    <span class="input-group-btn">
                                                                        <button id="loan_search_request" type="button" value=" Search Requests" class="btn btn-transparent btn-sm">
                                                                            <span class="ace-icon fa fa-search icon-on-right bigger-110"></span>
                                                                            Search Loan Requests
                                                                        </button>
                                                                    </span>
                                                                </div>
                                                                <!-- div.table-responsive -->

                                                                <!-- div.dataTables_borderWrap -->
                                                                <div>
                                                                    <table class="table table-striped table-bordered table-hover">
                                                                        <thead>
                                                                            <tr>
                                                                                <th class="center">Loan Amount
                                                                                </th>
                                                                                <th class="center">Purpose of Loan
                                                                                </th>
                                                                                <th>Loan Duration</th>
                                                                                <th class="center">Date Applied</th>
                                                                                <th class="center">Approval Status</th>

                                                                            </tr>
                                                                        </thead>
                                                                        <div class="center center-block align-center">
                                                                            <img id="waitImageLn" alt="" src="images/wait.gif" style="display: none;" />
                                                                        </div>
                                                                        <tbody id="loan-table">
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div id="staff_lease" hidden="hidden">
                                                        <div class="page-header">
                                                            <div class="clearfix form-actions">
                                                                <div class="col-md-offset-2 col-md-9">
                                                                    <button id="initiate_lease_request" class="btn btn-primary btn-group" type="button" style="text-align: left; float: center">
                                                                        <i class="ace-icon fa fa-check bigger-110"></i>
                                                                        New Lease Request
                                                                    </button>
                                                                    &nbsp; &nbsp; &nbsp;

                                                                    <button id="view_lease_requests" class="btn btn-info btn-group" type="button" style="text-align: left;">
                                                                        <i class="ace-icon fa fa-check bigger-110"></i>
                                                                        View Lease History
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div id="lease_content">
                                                            <%--For Lease Notifications--%>
                                                            <div id="lease_notifications">
                                                                <div id="error_lease" class="alert alert-danger fade in" hidden="hidden">
                                                                    <a href="#" class="close" data-dismiss="alert">&times;</a>
                                                                    <strong>Error!</strong> Your Request Wasn't Submitted.<i>Please review details and try again</i>
                                                                </div>
                                                                <div id="success_lease" class="alert alert-success fade in" hidden="hidden">
                                                                    <a href="#" class="close" data-dismiss="alert">&times;</a>
                                                                    <strong>Success! </strong>Your Staff Lease Request Has Been Submitted.
                                                                </div>
                                                            </div>
                                                            &nbsp;

                                                            <%--For New Lease Request--%>
                                                            <div id="new_lease_request">
                                                                <div class="col-m6" id="Div9">
                                                                    <div class="table-header">
                                                                        New Lease Request
                                                                    </div>
                                                                    &nbsp;
                                                                    <div class="form-group">
                                                                        <label for="form-field-8" class="control-label col-xs-12 col-sm-3 no-padding-right" for="platform">Select Item To Lease</label>

                                                                        <div class="col-sm-9">
                                                                            <div class="row">
                                                                                <div class="col-sm-6">
                                                                                    <input type="radio" name="items" value="Car" />
                                                                                    Car Lease
                                                                                </div>
                                                                                <div class="col-sm-6">
                                                                                    <input type="radio" name="items" value="Appliances" />
                                                                                    House Appliances
                                                                                </div>
                                                                            </div>
                                                                            <div class="row">
                                                                                <div class="col-sm-6">
                                                                                    <input type="radio" name="items" value="OfficeEquipment" />
                                                                                    Office Equipment
                                                                                </div>
                                                                                <div class="col-sm-6">
                                                                                    <input type="radio" name="items" value="Others" />
                                                                                    Others
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group" id="ifOther" hidden="hidden">
                                                                        <label class="col-sm-3 control-label no-padding-right" for="form-field-7">Describe Asset You Wish To Lease</label>

                                                                        <div class="col-sm-9">
                                                                            <input type="text" id="description" class="col-xs-10 col-sm-9" />
                                                                        </div>
                                                                    </div>

                                                                    <%--<div class="form-group">
                                                                        <label class="col-sm-3 control-label no-padding-right" for="form-field-7">Repayment Plan</label>

                                                                        <div id="Div10" class="col-xs-12 col-sm-9">
                                                                            <div class="clearfix">
                                                                                <select class="col-xs-10 col-sm-9" id="lease_repayment" name="lease_repayment"></select>
                                                                            </div>
                                                                        </div>
                                                                    </div>--%>

                                                                    <div class="form-group">
                                                                        <label for="form-field-8" class="control-label col-xs-12 col-sm-3 no-padding-right" for="platform">Are you currently servicing a loan?</label>

                                                                        <div class="col-sm-9">
                                                                            <div class="col-xs-12 col-sm-10">
                                                                                <div class="col-sm-6">
                                                                                    <input type="radio" name="onLoan" id="yes" value="Yes" />Yes
                                                                                </div>
                                                                                <div class="col-sm-6">
                                                                                    <input type="radio" name="onLoan" id="no" value="No" />No
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    <div id="ifOnLoan" hidden="hidden">

                                                                        <div class="form-group">
                                                                            <label class="col-sm-3 control-label no-padding-right" for="form-field-7">Amount Taken As Loan</label>

                                                                            <div class="col-sm-9">
                                                                                <input type="text" id="amountLoaned" class="col-xs-10 col-sm-9" />
                                                                            </div>
                                                                        </div>

                                                                        <%--<div class="form-group">
                                                                            <label class="col-sm-3 control-label no-padding-right" for="form-field-7">Loan Servicing Plan</label>

                                                                            <div class="col-sm-9">
                                                                                <div class="clearfix">
                                                                                    <select class="col-xs-10 col-sm-9" id="loan_repaymentPlan" name="loan_repaymentPlan"></select>
                                                                                </div>
                                                                            </div>
                                                                        </div>--%>

                                                                        <div class="form-group">
                                                                            <label class="col-sm-3 control-label no-padding-right" for="form-field-7">Loan Balance</label>

                                                                            <div class="col-sm-9">
                                                                                <input type="text" id="loan_balance" class="col-xs-10 col-sm-9" />
                                                                            </div>
                                                                        </div>

                                                                    </div>

                                                                    <%--                                                                    <div class="form-group">
                                                                        <label for="form-field-8" class="control-label col-xs-12 col-sm-3 no-padding-right" for="platform">Upload Application Form</label>
                                                                        <div class="col-sm-9">
                                                                            <!-- #section:custom/file-input -->
                                                                            <input type="file" id="staffleaseform" />
                                                                        </div>
                                                                    </div>--%>

                                                                    <div id="error_ls" class="alert alert-danger fade in" style="color: red; text-align: center" hidden="hidden"></div>

                                                                    <div id="leaseterms_link" role="button"><small>Lease Terms and Conditions</small></div>

                                                                    <div id="lease_terms" hidden="hidden">
                                                                        <p>
                                                                            THE LEASE TERM:
                                                                        <ul>
                                                                            <small>
                                                                                <li>Any staff presently on loan may be entitled if after deduction, his or her monthly rental is not over 1/3 of her net pay.</li>
                                                                                <li>A maximum of 12 months re-payment plan is allowed for House hold/ office Appliances.</li>
                                                                                <li>For staff intending to take a car lease a maximum of 30 months re-payment plan is allowed for tokunbo (second-hand) cars and a maximum of 46months for brand new cars. </li>
                                                                                <li>All requirements stipulated in affordable lease manual and current rates (less 4%). This includes insurance, management, processing and residual value etc.</li>
                                                                                <li>Min 22% equity contribution for brand new cars and Min of 15% of asset cost for tokunbo cars and household items.</li>
                                                                                <li>If at the end of the transaction the staff is still in the service of the organization, 50% of all fees paid shall be refunded to the staff.</li>
                                                                            </small>
                                                                        </ul>
                                                                        </p>
                                                                    </div>

                                                                    <div class="widget-body">
                                                                        <div class="widget-main">
                                                                            <div class="clearfix form-actions">
                                                                                <div class="col-md-offset-3 col-md-9">
                                                                                    <button id="stafflease_save" class="btn btn-primary" type="button" style="text-align: left">
                                                                                        <i class="ace-icon fa fa-clock-o bigger-110"></i>
                                                                                        Save Request
                                                                                    </button>

                                                                                    &nbsp; &nbsp; &nbsp;
                                                                                <button id="stafflease_submit" class="btn btn-success" type="button" style="text-align: left">
                                                                                    <i class="ace-icon fa fa-check bigger-110"></i>
                                                                                    Submit Request
                                                                                </button>

                                                                                    &nbsp; &nbsp; &nbsp;
											                                    <button class="btn" type="reset" style="text-align: right">
                                                                                    <i class="ace-icon fa fa-undo bigger-110"></i>
                                                                                    Reset
                                                                                </button>
                                                                                </div>
                                                                            </div>
                                                                            <!-- /section:plugins/input.autosize -->
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <%--For Lease Request History--%>
                                                            <div id="lease_request_history" hidden="hidden">
                                                                <div class="clearfix">
                                                                    <div class="pull-right tableTools-container"></div>
                                                                </div>
                                                                <div class="table-header">
                                                                    Your Lease History
                                                                    <span id="lse" onclick="refresh(id)" class="pull-right" style="padding-right: 20px"><i class="ace-icon fa fa-refresh"></i></span>
                                                                </div>
                                                                <div class="input-group">
                                                                    <span class="input-group-addon">
                                                                        <i class="ace-icon fa fa-check"></i>
                                                                    </span>

                                                                    <input type="text" id="lease_search_item" class="form-control search-query" placeholder="Search by Date Applied or Asset to Lease..." />
                                                                    <span class="input-group-btn">
                                                                        <button id="lease_search_request" type="button" value=" Search Requests" class="btn btn-transparent btn-sm">
                                                                            <span class="ace-icon fa fa-search icon-on-right bigger-110"></span>
                                                                            Search Lease Requests
                                                                        </button>
                                                                    </span>
                                                                </div>
                                                                <!-- div.table-responsive -->

                                                                <!-- div.dataTables_borderWrap -->
                                                                <div>
                                                                    <table class="table table-striped table-bordered table-hover">
                                                                        <thead>
                                                                            <tr>
                                                                                <th class="center">Name of Lease
                                                                                </th>
                                                                                <%--<th>Servicing Plan</th>--%>
                                                                                <th>Date Submitted</th>
                                                                                <th class="hidden-480">Approval Status</th>

                                                                            </tr>
                                                                        </thead>

                                                                        <tbody id="lease-table">
                                                                            <%--<tr><td>Car</td><td>Product A</td><td>21/11/2017</td><td><span class="label label-warning">Pending</span></td></tr>
                                                                            <tr><td>Motorbike</td><td>Product A</td><td>21/11/2017</td><td><span class="label label-danger">Rejected</span></td></tr>
                                                                            <tr><td>Truck</td><td>Product A</td><td>21/11/2017</td><td><span class="label label-success">Approved</span></td></tr>
                                                                            <tr><td>Car</td><td>Product A</td><td>21/11/2017</td><td><span class="label label-warning">Pending</span></td></tr>--%>
                                                                            <%--<tr>
                                                                                <td class="center"></td>

                                                                                <td>
                                                                                    <a href="#">app.com</a>
                                                                                </td>
                                                                                <td>$45</td>

                                                                                <td class="hidden-480">
                                                                                    <span class="label label-sm label-warning">Approved</span>
                                                                                </td>

                                                                                <td class="hidden-480">
                                                                                    <span class="label label-sm label-warning">On Trip</span>
                                                                                </td>

                                                                                <td>
                                                                                    <div class="hidden-sm hidden-xs action-buttons">
                                                                                        <a class="blue" href="#">
                                                                                            <i class="ace-icon fa fa-search-plus bigger-130"></i>
                                                                                        </a>

                                                                                        <a class="green" href="#">
                                                                                            <i class="ace-icon fa fa-pencil bigger-130"></i>
                                                                                        </a>

                                                                                        <a class="red" href="#">
                                                                                            <i class="ace-icon fa fa-trash-o bigger-130"></i>
                                                                                        </a>
                                                                                    </div>

                                                                                    <div class="hidden-md hidden-lg">
                                                                                        <div class="inline pos-rel">
                                                                                            <button class="btn btn-minier btn-yellow dropdown-toggle" data-toggle="dropdown" data-position="auto">
                                                                                                <i class="ace-icon fa fa-caret-down icon-only bigger-120"></i>
                                                                                            </button>

                                                                                            <ul class="dropdown-menu dropdown-only-icon dropdown-yellow dropdown-menu-right dropdown-caret dropdown-close">
                                                                                                <li>
                                                                                                    <a href="#" class="tooltip-info" data-rel="tooltip" title="View">
                                                                                                        <span class="blue">
                                                                                                            <i class="ace-icon fa fa-search-plus bigger-120"></i>
                                                                                                        </span>
                                                                                                    </a>
                                                                                                </li>

                                                                                                <li>
                                                                                                    <a href="#" class="tooltip-success" data-rel="tooltip" title="Edit">
                                                                                                        <span class="green">
                                                                                                            <i class="ace-icon fa fa-pencil-square-o bigger-120"></i>
                                                                                                        </span>
                                                                                                    </a>
                                                                                                </li>

                                                                                                <li>
                                                                                                    <a href="#" class="tooltip-error" data-rel="tooltip" title="Delete">
                                                                                                        <span class="red">
                                                                                                            <i class="ace-icon fa fa-trash-o bigger-120"></i>
                                                                                                        </span>
                                                                                                    </a>
                                                                                                </li>
                                                                                            </ul>
                                                                                        </div>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>--%>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>

                                                    <div id="salary_advance" hidden="hidden">
                                                        <div class="page-header">

                                                            <div class="clearfix form-actions">
                                                                <div class="col-md-offset-2 col-md-9">
                                                                    <button id="initiate_advance_request" class="btn btn-primary btn-group" type="button" style="text-align: left; float: center">
                                                                        <i class="ace-icon fa fa-check bigger-110"></i>
                                                                        New Salary Advance Request
                                                                    </button>
                                                                    &nbsp; &nbsp; &nbsp;

                                                                    <button id="view_advance_requests" class="btn btn-info btn-group" type="button" style="text-align: left;">
                                                                        <i class="ace-icon fa fa-check bigger-110"></i>
                                                                        View Salary Advance History
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div id="advance_content">
                                                            <%--For Salary Advance Notification--%>
                                                            <div id="advance_notification">
                                                                <div id="error_advance" class="alert alert-danger fade in" hidden="hidden">
                                                                    <a href="#" class="close" data-dismiss="alert">&times;</a>
                                                                    <strong>Error!</strong> Your Request Wasn't Submitted.<i>Please review details and try again</i>
                                                                </div>
                                                                <div id="success_advance" class="alert alert-success fade in" hidden="hidden">
                                                                    <a href="#" class="close" data-dismiss="alert">&times;</a>
                                                                    <strong>Success! </strong>Your Salary Advance Request Has Been Submitted.
                                                                </div>
                                                            </div>
                                                            &nbsp;

                                                            <%--For New Salary Advance Request--%>
                                                            <div id="new_advance_request">
                                                                <div id="advance_toggle" target="target" hidden="hidden"></div>
                                                                <div class="col-m6" id="Div11">
                                                                    <div class="table-header">
                                                                        New Salary Advance Request
                                                                    </div>
                                                                    &nbsp;
                                                                    <div class="form-group">
                                                                        <label class="col-sm-3 control-label no-padding-right" for="form-field-7">Amount Requested</label>

                                                                        <div class="col-sm-5">
                                                                            <input type="text" id="advance" class="col-xs-10 col-sm-9 formatWhileTypingAndWarnOnDecimalsEntered2" />
                                                                        </div>

                                                                        <div class="col-sm-4">
                                                                            <span id="amounterror" class="col-xs-10 col-sm-9" />
                                                                        </div>
                                                                    </div>


                                                                    <div class="form-group">
                                                                        <label for="form-field-8" class="control-label col-xs-12 col-sm-3 no-padding-right" for="platform">Purpose</label>

                                                                        <div class="col-sm-9">
                                                                            <textarea id="advance_purpose" class="col-xs-10 col-sm-9"> </textarea>
                                                                        </div>
                                                                    </div>

                                                                    <%--<div class="form-group">
                                                                        <label for="form-field-8" class="control-label col-xs-12 col-sm-3 no-padding-right" for="platform">Upload Application Form</label>
                                                                        <div class="col-sm-9">
                                                                            <!-- #section:custom/file-input -->
                                                                            <input type="file" id="salaryadvanceform" />
                                                                        </div>
                                                                    </div>--%>

                                                                    <div id="error_ad" class="alert alert-danger fade in" style="color: red; text-align: center" hidden="hidden"></div>

                                                                    <div class="widget-body">
                                                                        <div class="widget-main">
                                                                            <div class="clearfix form-actions">
                                                                                <div class="col-md-offset-3 col-md-9">
                                                                                    <button id="advance_save" class="btn btn-primary" type="button" style="text-align: left">
                                                                                        <i class="ace-icon fa fa-clock bigger-110"></i>
                                                                                        Save Request
                                                                                    </button>

                                                                                    &nbsp; &nbsp; &nbsp;
                                                                                    <button id="advance_submit" class="btn btn-success" type="button" style="text-align: left" disabled="disabled">
                                                                                        <i class="ace-icon fa fa-check bigger-110"></i>
                                                                                        Submit Request
                                                                                    </button>

                                                                                    &nbsp; &nbsp; &nbsp;
											                                        <button class="btn" type="reset" style="text-align: right">
                                                                                        <i class="ace-icon fa fa-undo bigger-110"></i>
                                                                                        Reset
                                                                                    </button>
                                                                                </div>
                                                                            </div>
                                                                            <!-- /section:plugins/input.autosize -->
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <%--For Salary Advance Requests History--%>
                                                            <div id="advance_request_history" hidden="hidden">
                                                                <div class="clearfix">
                                                                    <div class="pull-right tableTools-container"></div>
                                                                </div>
                                                                <div class="table-header">
                                                                    Your Salary Advance History
                                                                    <span id="adv" onclick="refresh(id)" class="pull-right" style="padding-right: 20px"><i class="ace-icon fa fa-refresh"></i></span>
                                                                </div>
                                                                <div class="input-group">
                                                                    <span class="input-group-addon">
                                                                        <i class="ace-icon fa fa-check"></i>
                                                                    </span>

                                                                    <input type="text" id="advance_search_item" class="form-control search-query" placeholder="Search by Date Applied..." />
                                                                    <span class="input-group-btn">
                                                                        <button id="advance_search_request" type="button" value=" Search Requests" class="btn btn-transparent btn-sm">
                                                                            <span class="ace-icon fa fa-search icon-on-right bigger-110"></span>
                                                                            Search Salary Advance Requests
                                                                        </button>
                                                                    </span>
                                                                </div>
                                                                <!-- div.table-responsive -->

                                                                <!-- div.dataTables_borderWrap -->
                                                                <div>
                                                                    <table class="table table-striped table-bordered table-hover">
                                                                        <thead>
                                                                            <tr>
                                                                                <th class="center">Amount Requested
                                                                                </th>
                                                                                <th>Date Applied</th>
                                                                                <th class="hidden-480">Approval Status</th>

                                                                            </tr>
                                                                        </thead>
                                                                        <div class="center center-block align-center">
                                                                            <img id="waitImageAd" alt="" src="images/wait.gif" style="display: none;" />
                                                                        </div>
                                                                        <tbody id="advance-table">
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>

                                                        </div>

                                                    </div>

                                                    <div id="requisition" hidden="hidden">
                                                        <div class="page-header">

                                                            <div class="clearfix form-actions">
                                                                <div class="col-md-offset-2 col-md-9">
                                                                    <button id="initiate_requisition_request" class="btn btn-primary btn-group" type="button" style="text-align: left; float: center">
                                                                        <i class="ace-icon fa fa-check bigger-110"></i>
                                                                        New Requisition Request
                                                                    </button>
                                                                    &nbsp; &nbsp; &nbsp;

                                                                    <button id="view_requisition_requests" class="btn btn-info btn-group" type="button" style="text-align: left;">
                                                                        <i class="ace-icon fa fa-check bigger-110"></i>
                                                                        View Requisitions History
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div id="requisition_content">
                                                            <%--For Item Requisition Notification--%>
                                                            <div id="requisition_notification">
                                                                <div id="error_requisition" class="alert alert-danger fade in" hidden="hidden">
                                                                    <a href="#" class="close" data-dismiss="alert">&times;</a>
                                                                    <strong>Error!</strong> Your Request Wasn't Submitted.<i>Please review details and try again</i>
                                                                </div>
                                                                <div id="success_requisition" class="alert alert-success fade in" hidden="hidden">
                                                                    <a href="#" class="close" data-dismiss="alert">&times;</a>
                                                                    <strong>Success! </strong>Your Requisition Request Has Been Submitted.
                                                                </div>
                                                            </div>
                                                            &nbsp;

                                                            <%--For New Item Requisition Request--%>
                                                            <div id="new_requisition_request">
                                                                <div id="req_toggle" target="target" hidden="hidden"></div>
                                                                <div class="col-m6" id="Div13">
                                                                    <div class="table-header">
                                                                        New Requisition Request
                                                                    </div>
                                                                    &nbsp;
                                                                    <div class="form-group">
                                                                        <label class="col-sm-3 control-label no-padding-right" for="form-field-7">Item To Order</label>

                                                                        <div class="col-sm-9">
                                                                            <input id="itemname" class="col-xs-10 col-sm-9" />
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label for="form-field-3" class="control-label col-xs-12 col-sm-3 no-padding-right" for="platform">Select Quantity </label>
                                                                        <div id="Div14" class="col-xs-12 col-sm-9">
                                                                            <div class="clearfix">
                                                                                <input type="text" id="quantity" />
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label for="form-field-8" class="control-label col-xs-12 col-sm-3 no-padding-right" for="platform">Date To Be Delivered</label>

                                                                        <div class="col-sm-9">
                                                                            <input id="delivery_date" data-provide="datepicker" class="col-xs-10 col-sm-9" />
                                                                        </div>
                                                                    </div>

                                                                    <div id="error_rq" class="alert alert-danger fade in" style="color: red; text-align: center" hidden="hidden"></div>

                                                                    <%-- <div class="form-group">
                                                                        <label for="form-field-8" class="control-label col-xs-12 col-sm-3 no-padding-right" for="platform">Upload Application Form</label>
                                                                        <div class="col-sm-9">
                                                                            <!-- #section:custom/file-input -->
                                                                            <input type="file" id="requisitionform" />
                                                                        </div>
                                                                    </div>--%>

                                                                    <div class="widget-body">
                                                                        <div class="widget-main">
                                                                            <div class="clearfix form-actions">
                                                                                <div class="col-md-offset-3 col-md-9">
                                                                                    <button id="requisition_save" class="btn btn-primary" type="button" style="text-align: left">
                                                                                        <i class="ace-icon fa fa-clock bigger-110"></i>
                                                                                        Save Request
                                                                                    </button>

                                                                                    &nbsp; &nbsp; &nbsp;
                                                                                    <button id="requisition_submit" class="btn btn-success" type="button" style="text-align: left">
                                                                                        <i class="ace-icon fa fa-check bigger-110"></i>
                                                                                        Submit Request
                                                                                    </button>

                                                                                    &nbsp; &nbsp; &nbsp;
											                                        <button class="btn" type="reset" style="text-align: right">
                                                                                        <i class="ace-icon fa fa-undo bigger-110"></i>
                                                                                        Reset
                                                                                    </button>
                                                                                </div>
                                                                            </div>
                                                                            <!-- /section:plugins/input.autosize -->
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <%--For Item Requisition Requests History--%>
                                                            <div id="requisition_request_history" hidden="hidden">
                                                                <div class="clearfix">
                                                                    <div class="pull-right tableTools-container"></div>
                                                                </div>
                                                                <div class="table-header">
                                                                    Your Requisitions History
                                                                    <span id="req" onclick="refresh(id)" class="pull-right" style="padding-right: 20px"><i class="ace-icon fa fa-refresh"></i></span>
                                                                </div>
                                                                <div class="input-group">
                                                                    <span class="input-group-addon">
                                                                        <i class="ace-icon fa fa-check"></i>
                                                                    </span>

                                                                    <input type="text" id="requisition_search_item" class="form-control search-query" placeholder="Search by Date Applied..." />
                                                                    <span class="input-group-btn">
                                                                        <button id="requisition_search_request" type="button" value=" Search Requests" class="btn btn-transparent btn-sm">
                                                                            <span class="ace-icon fa fa-search icon-on-right bigger-110"></span>
                                                                            Search Requisitions Requests
                                                                        </button>
                                                                    </span>
                                                                </div>
                                                                <!-- div.table-responsive -->

                                                                <!-- div.dataTables_borderWrap -->
                                                                <div>
                                                                    <table class="table table-striped table-bordered table-hover">
                                                                        <thead>
                                                                            <tr>
                                                                                <th class="center">Item Ordered
                                                                                </th>
                                                                                <th>Quantity</th>
                                                                                <th>Date Applied</th>
                                                                                <th class="hidden-480">Approval Status</th>

                                                                            </tr>
                                                                        </thead>
                                                                        <div class="center center-block align-center">
                                                                            <img id="waitImageRq" alt="" src="images/wait.gif" style="display: none;" />
                                                                        </div>
                                                                        <tbody id="requisition-table">
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>

                                                        </div>

                                                    </div>


                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>


                                <!-- /.span -->
                                <div class="col-xs-12 col-sm-3">
                                    <div class="widget-box">
                                        <div class="widget-header">
                                            <h4 class="widget-title">Self - Service Options</h4>

                                            <div class="widget-toolbar">
                                                <a href="#" data-action="collapse">
                                                    <i class="ace-icon fa fa-chevron-up"></i>
                                                </a>


                                            </div>
                                        </div>
                                        <div class="col-m6" id="Div15">
                                            <div id="widget-box-2">
                                                <!-- #section:custom/widget-box.options -->

                                                <!-- /section:custom/widget-box.options -->
                                                <div class="widget-body">
                                                    <div class="widget-main">

                                                        <div class="row">
                                                            <div class="col-xs-12" style="vertical-align: middle; width: 100%">
                                                                <div id="accordion" class="sidebar                  responsive                    ace-save-state">

                                                                    <ul class="nav nav-list" style="">

                                                                        <%--<li class="">
                                                                            <a class="dropdown-toggle">
                                                                                <i class="menu-icon fa fa-pencil-square-o"></i>
                                                                                <span class="menu-text" role="button">HR Self-Service </span>

                                                                                <b class="arrow fa fa-angle-down"></b>
                                                                            </a>

                                                                            <b class="arrow"></b>--%>

                                                                        <%--<ul class="dropdown-toggle">--%>
                                                                        <li class="dropdown-toggle" role="button">
                                                                            <a id="travel_apply">
                                                                                <i class="menu-icon fa fa-caret-right" role="button"></i>
                                                                                Staff Travel
                                                                            </a>

                                                                            <b class="arrow fa fa-angle-down"></b>
                                                                        </li>

                                                                        <li class="dropdown-toggle" role="button">
                                                                            <a id="leave_apply">
                                                                                <i class="menu-icon fa fa-caret-right"></i>
                                                                                Leave Application
                                                                            </a>

                                                                            <b class="arrow"></b>
                                                                        </li>
                                                                        <%--</ul>
                                                                        </li>--%>

                                                                        <%--<li class="">
                                                                            <a class="dropdown-toggle">
                                                                                <i class="menu-icon fa fa-pencil-square-o"></i>
                                                                                <span class="menu-text" role="button">Admin Self-Service </span>

                                                                                <b class="arrow fa fa-angle-down"></b>
                                                                            </a>

                                                                            <b class="arrow"></b>

                                                                            <ul class="submenu">--%>
                                                                        <li class="dropdown-toggle" role="button">
                                                                            <a id="requisition_apply">
                                                                                <i class="menu-icon fa fa-caret-right"></i>
                                                                                Items Requisition
                                                                            </a>

                                                                            <b class="arrow"></b>
                                                                        </li>
                                                                        <%--</ul>
                                                                        </li>--%>

                                                                        <%--<li class="">
                                                                            <a class="dropdown-toggle">
                                                                                <i class="menu-icon fa fa-pencil-square-o"></i>
                                                                                <span class="menu-text" role="button">Accounts  </span>

                                                                                <b class="arrow fa fa-angle-down"></b>
                                                                            </a>

                                                                            <b class="arrow"></b>

                                                                            <ul class="submenu">--%>
                                                                        <li class="dropdown-toggle" role="button">
                                                                            <a id="loan_apply">
                                                                                <i class="menu-icon fa fa-caret-right"></i>
                                                                                Staff Loans
                                                                            </a>

                                                                            <b class="arrow"></b>
                                                                        </li>

                                                                        <%--<li class="dropdown-toggle" role="button">
                                                                                    <a id="lease_apply">
                                                                                        <i class="menu-icon fa fa-caret-right"></i>
                                                                                        Staff Lease
                                                                                    </a>

                                                                                    <b class="arrow"></b>
                                                                                </li>--%>

                                                                        <li class="dropdown-toggle" role="button" id="advance_button" hidden="hidden">
                                                                            <a id="advance_apply">
                                                                                <i class="menu-icon fa fa-caret-right"></i>
                                                                                Salary Advance
                                                                            </a>

                                                                            <b class="arrow"></b>
                                                                        </li>
                                                                        <%--</ul>
                                                                        </li>--%>

                                                                        <%--<li class="">
                                                                            <a class="dropdown-toggle">
                                                                                <i class="menu-icon fa fa-pencil-square-o"></i>
                                                                                <span class="menu-text" role="button">Management  </span>

                                                                                <b class="arrow fa fa-angle-down"></b>
                                                                            </a>

                                                                            <b class="arrow"></b>

                                                                            <ul class="submenu">
                                                                                <li class="" role="button">
                                                                                    <a>
                                                                                        <i class="menu-icon fa fa-caret-right"></i>
                                                                                        Departmental Budget Requisitions
                                                                                    </a>

                                                                                    <b class="arrow"></b>
                                                                                </li>

                                                                            </ul>
                                                                        </li>

                                                                        <li class="">
                                                                            <a class="dropdown-toggle">
                                                                                <i class="menu-icon fa fa-pencil-square-o"></i>
                                                                                <span class="menu-text" role="button">General  </span>

                                                                                <b class="arrow fa fa-angle-down"></b>
                                                                            </a>

                                                                            <b class="arrow"></b>

                                                                            <ul class="submenu">
                                                                                <li class="" role="button">
                                                                                    <a>
                                                                                        <i class="menu-icon fa fa-caret-right"></i>
                                                                                        Internal Memos
                                                                                    </a>

                                                                                    <b class="arrow"></b>
                                                                                </li>
                                                                                <li class="" role="button">
                                                                                    <a>
                                                                                        <i class="menu-icon fa fa-caret-right"></i>
                                                                                        <span class="submenu-text">Staff Handbook</span>
                                                                                    </a>

                                                                                    <b class="arrow"></b>
                                                                                </li>

                                                                            </ul>
                                                                        </li>--%>
                                                                    </ul>

                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>




            </div>

        </div>
        <label id="lblAnnualLeave" style="visibility: hidden;"></label>
        <label id="lblRemDaysLeft" style="visibility: hidden;"></label>
        <label id="lblLeaveDaysLeft" style="visibility: hidden;"></label>
        <!-- /.row -->
    </div>
    <!-- /.page-content -->
    <!-- basic scripts -->

    <!--[if !IE]> -->
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="../components/jquery/dist/jquery.js"></script>
    <script src="../assets/js/src/elements.spinner.js"></script>
    <script src="../components/_mod/jquery-ui.custom/jquery-ui.custom.js"></script>
    <script src="../components/jqueryui-touch-punch/jquery.ui.touch-punch.js"></script>
    <script src="../components/chosen/chosen.jquery.js"></script>
    <script src="../components/fuelux/js/spinbox.js"></script>
    <script src="../components/bootstrap-datepicker/dist/js/bootstrap-datepicker.js"></script>
    <script src="../components/bootstrap-timepicker/js/bootstrap-timepicker.js"></script>
    <script src="../components/moment/moment.js"></script>
    <script src="../components/bootstrap-daterangepicker/daterangepicker.js"></script>
    <script src="../components/eonasdan-bootstrap-datetimepicker/src/js/bootstrap-datetimepicker.js"></script>
    <script src="../components/mjolnic-bootstrap-colorpicker/dist/js/bootstrap-colorpicker.js"></script>
    <script src="../components/jquery-knob/js/jquery.knob.js"></script>
    <script src="../components/autosize/dist/autosize.js"></script>
    <script src="../components/jquery-inputlimiter/jquery.inputlimiter.js"></script>
    <script src="../components/jquery.maskedinput/dist/jquery.maskedinput.js"></script>
    <script src="../components/_mod/bootstrap-tag/bootstrap-tag.js"></script>

    <script src="assets/js/accounting.min.js"></script>

    <!-- ace scripts -->
    <script src="../assets/js/src/elements.scroller.js"></script>
    <script src="../assets/js/src/elements.colorpicker.js"></script>
    <script src="../assets/js/src/elements.fileinput.js"></script>
    <script src="../assets/js/src/elements.typeahead.js"></script>
    <script src="../assets/js/src/elements.wysiwyg.js"></script>
    <script src="../assets/js/src/elements.spinner.js"></script>
    <script src="../assets/js/src/elements.treeview.js"></script>
    <script src="../assets/js/src/elements.wizard.js"></script>
    <script src="../assets/js/src/elements.aside.js"></script>
    <script src="../assets/js/src/ace.js"></script>
    <script src="../assets/js/src/ace.basics.js"></script>
    <script src="../assets/js/src/ace.scrolltop.js"></script>
    <script src="../assets/js/src/ace.ajax-content.js"></script>
    <script src="../assets/js/src/ace.touch-drag.js"></script>
    <script src="../assets/js/src/ace.sidebar.js"></script>
    <script src="../assets/js/src/ace.sidebar-scroll-1.js"></script>
    <script src="../assets/js/src/ace.submenu-hover.js"></script>
    <script src="../assets/js/src/ace.widget-box.js"></script>
    <script src="../assets/js/src/ace.settings.js"></script>
    <script src="../assets/js/src/ace.settings-rtl.js"></script>
    <script src="../assets/js/src/ace.settings-skin.js"></script>
    <script src="../assets/js/src/ace.widget-on-reload.js"></script>
    <script src="../assets/js/src/ace.searchbox-autocomplete.js"></script>

    <script src="js/jquery.formatCurrency-1.4.0.min.js"></script>



    <!-- <![endif]-->

    <!--[if IE]>
<script src="../components/jquery.1x/dist/jquery.js"></script>
<![endif]-->
    <script type="text/javascript">
                if ('ontouchstart' in document.documentElement) document.write("<script src='components/_mod/jquery.mobile.custom/jquery.mobile.custom.js'>" + "<" + "/script>");

                var isBack = false;
                $(document).ready(function () {
                    //Salary Advance Condition
                    var d = new Date();
                    var today = d.getDate();
                    //(today >= 9 && today <= 19) ? $("#advance_button").show() : $("#advance_button").hide();

                    document.getElementById("advance_toggle").setAttribute("target", "target");
                    document.getElementById("travel_toggle").setAttribute("target", "target");
                    document.getElementById("loan_toggle").setAttribute("target", "target");
                    document.getElementById("travel_toggle").setAttribute("target", "target");
                    document.getElementById("req_toggle").setAttribute("target", "target");

                    //Leave Request Condition
                    getLeaveDays();
                    getRemainingLeaveDays();
                    getDaysLeft();
                    //var leaveDaysLeft = 0;
                    //($("#remLeaveDays").attr("value") == 'Zero') ? ($("#leave_save").attr("disabled", "disabled"), $("#leave_submit").attr("disabled", "disabled")) : $("#Div2").show(), $("#leaveinfo").hide();
                    (document.getElementById("lblRemDaysLeft").getAttribute("value") == 'Zero') ? ($("#leave_save").attr("disabled", "disabled"), $("#leave_submit").attr("disabled", "disabled")) : $("#Div2").show(), $("#leaveinfo").hide();

                    //(isBack = false || $("#countdown").attr('val') != 0 || $("#countdown").attr('val') != 'Zero') ? $("#Div2").hide() : $("#Div2").show(), $("#leaveinfo").hide();

                    loadAllRequests();
                    $("#widget-title").html("Your Self - Service Requests History");
                    $("#leave_requests").hide();
                    $("#travel_requests").hide();
                    $("#staff_loans").hide();
                    $("#salary_advance").hide();
                    $("#sick_type").hide();
                    $("#upd_reason").hide();
                    $("#terms").hide();
                    $("#new_travel_request").hide();
                    $("#travel_request_history").show();
                    $("#new_leave_request").hide();
                    $("#leave_request_history").show();
                    $("#new_loan_request").hide();
                    $("#loan_request_history").show();
                    $("#new_lease_request").hide();
                    $("#lease_request_history").show();
                    $("#new_advance_request").hide();
                    $("#advance_request_history").show();
                    $("#new_requisition_request").hide();
                    $("#requisition_request_history").show();

                    $("#initiate_travel_request").click(function () {
                        $("#travel_request_history").hide();
                        $("#new_travel_request").show();
                    });

                    $("#view_travel_requests").click(function () {
                        $("#new_travel_request").hide();
                        $("#waitImage").show();
                        loadTravelRequests();
                        $("#travel_request_history").show();
                    });

                    $("#initiate_leave_request").click(function () {
                        $("#leave_request_history").hide();
                        $("#new_leave_request").show();
                    });

                    $("#view_leave_requests").click(function () {
                        $("#new_leave_request").hide();
                        $("#waitImageLv").show();
                        $("#leave_request_history").show();
                        loadLeaveRequests();
                    });

                    $("#initiate_loan_request").click(function () {
                        $("#loan_request_history").hide();
                        $("#new_loan_request").show();
                    });

                    $("#view_loan_requests").click(function () {
                        $("#new_loan_request").hide();
                        $("#waitImageLn").show();
                        $("#loan_request_history").show();
                        loadLoanRequests();
                    });

                    $("#initiate_lease_request").click(function () {
                        $("#lease_request_history").hide();
                        $("#new_lease_request").toggle();
                    });

                    $("#view_lease_requests").click(function () {
                        $("#new_lease_request").hide();
                        $("#lease_request_history").toggle();
                        loadLeaseRequests();
                    });

                    $("#initiate_advance_request").click(function () {
                        $("#advance_request_history").hide();
                        $("#new_advance_request").show();
                    });

                    $("#view_advance_requests").click(function () {
                        $("#new_advance_request").hide();
                        $("#waitImageAd").show();
                        $("#advance_request_history").show();
                        loadSalaryAdvanceRequests();
                    });

                    $("#initiate_requisition_request").click(function () {
                        $("#requisition_request_history").hide();
                        $("#new_requisition_request").show();
                    });

                    $("#view_requisition_requests").click(function () {
                        $("#new_requisition_request").hide();
                        $("#waitImageRq").show();
                        $("#requisition_request_history").show();
                        loadRequisitionsRequests();
                    });

                    $("#leave_apply").click(function () {
                        $("#default_content").hide();
                        $("#travel_requests").hide();
                        $("#staff_loans").hide();
                        $("#salary_advance").hide();
                        $("#staff_lease").hide();
                        $("#requisition").hide();
                        $("#widget-title").html("Leave Application Self - Service");
                        $("#leave_requests").show();
                        loadLeaveRequests();
                    });

                    $("#travel_apply").click(function () {
                        $("#default_content").hide();
                        $("#leave_requests").hide();
                        $("#staff_loans").hide();
                        $("#salary_advance").hide();
                        $("#staff_lease").hide();
                        $("#requisition").hide();
                        $("#widget-title").html("Travel Application Self - Service");
                        $("#travel_requests").show();
                        loadTravelRequests();
                    });

                    $("#loan_apply").click(function () {
                        $("#default_content").hide();
                        $("#leave_requests").hide();
                        $("#travel_requests").hide();
                        $("#salary_advance").hide();
                        $("#staff_lease").hide();
                        $("#requisition").hide();
                        $("#widget-title").html("Staff Loan Application Self - Service");
                        $("#staff_loans").show();
                        loadLoanRequests();
                    });

                    $("#lease_apply").click(function () {
                        $("#default_content").hide();
                        $("#leave_requests").hide();
                        $("#travel_requests").hide();
                        $("#salary_advance").hide();
                        $("#staff_loans").hide();
                        $("#requisition").hide();
                        $("#widget-title").html("Staff Lease Application Self - Service");
                        $("#staff_lease").show();
                        loadLeaseRequests();
                    });

                    $("#advance_apply").click(function () {
                        $("#default_content").hide();
                        $("#leave_requests").hide();
                        $("#travel_requests").hide();
                        $("#staff_loans").hide();
                        $("#staff_lease").hide();
                        $("#requisition").hide();
                        $("#widget-title").html("Salary Advance Application Self - Service");
                        $("#salary_advance").show();
                        loadSalaryAdvanceRequests();
                    });

                    $("#requisition_apply").click(function () {
                        $("#default_content").hide();
                        $("#leave_requests").hide();
                        $("#travel_requests").hide();
                        $("#staff_loans").hide();
                        $("#staff_lease").hide();
                        $("#salary_advance").hide();
                        $("#widget-title").html("Items Requisitions Self - Service");
                        $("#requisition").show();
                        loadRequisitionsRequests();
                    });

                    $("#terms_link").click(function () {
                        $("#terms").toggle();
                    });

                    $("#leaseterms_link").click(function () {
                        $("#lease_terms").toggle();
                    });

                    $("#travel_submit").click(function () {
                        $("#waitImage").show();
                        var action = "submitTravel";
                        var request = "travel";
                        validate(request, action);
                    });

                    $("#leave_submit").click(function () {
                        $("#waitImage").show();
                        var action = "submitLeave";
                        var request = "leave";
                        validate(request, action);
                    });

                    $("#staffloan_submit").click(function () {
                        $("#waitImage").show();
                        var action = "submitLoan";
                        var request = "loan";
                        validate(request, action);
                    });

                    $("#stafflease_submit").click(function () {
                        var action = "submitLease";
                        var request = "lease";
                        validate(request, action);
                    });

                    $("#advance_submit").click(function () {
                        $("#waitImage").show();
                        var action = "submitAdvance";
                        var request = "advance";
                        validate(request, action);
                    });

                    $("#requisition_submit").click(function () {
                        $("#waitImage").show();
                        var action = "submitRequisition";
                        var request = "requisition";
                        validate(request, action);
                    });

                    $("#travel_save").click(function () {
                        $("#waitImage").show();
                        var action = "saveTravel";
                        var request = "travel";
                        validate(request, action);
                    });

                    $("#leave_save").click(function () {
                        $("#waitImage").show();
                        var action = "saveLeave";
                        var request = "leave";
                        validate(request, action);
                    });

                    $("#staffloan_save").click(function () {
                        $("#waitImage").show();
                        var action = "saveLoan";
                        var request = "loan";
                        validate(request, action);
                    });

                    $("#stafflease_save").click(function () {
                        var action = "saveLease";
                        var request = "lease";
                        validate(request, action);
                    });

                    $("#advance_save").click(function () {
                        $("#waitImage").show();
                        var action = "saveAdvance";
                        var request = "advance";
                        validate(request, action);
                    });

                    $("#requisition_save").click(function () {
                        $("#waitImage").show();
                        var action = "saveRequisition";
                        var request = "requisition";
                        validate(request, action);
                    });

                    $("#leave_type").click(function () {
                        if ($('#leave_type').find('option:selected').val() == 'SICK LEAVE') {
                            $("#upd_reason").hide();
                            $("#sick_type").toggle();
                        }
                        else if ($('#leave_type').find('option:selected').val() == 'UNPAID LEAVE') {
                            $("#sick_type").hide();
                            $("#upd_reason").toggle();
                        }
                    });

                    $('input[name="onLoan"]').click(function () {
                        if ($(this).attr("value") == 'Yes') {
                            $("#ifOnLoan").show();
                        }
                        else
                            $("#ifOnLoan").hide();
                    });

                    $('input[name="items"]').click(function () {
                        if ($(this).attr("value") == 'Others') {
                            $("#ifOther").show();
                        }
                        else
                            $("#ifOther").hide();
                    });

                    $("#history_search_request").click(function () {
                        searchRequests();
                    });

                    $("#travel_search_request").click(function () {
                        searchTravels();
                    });

                    $("#leave_search_request").click(function () {
                        searchLeaves();
                    });

                    $("#loan_search_request").click(function () {
                        searchLoans();
                    });

                    $("#lease_search_request").click(function () {
                        searchLeases();
                    });

                    $("#advance_search_request").click(function () {
                        searchAdvances();
                    });

                    $("#requisition_search_request").click(function () {
                        searchRequisitions();
                    });

                    $("#history_search_item").keyup(function () {
                        searchRequests();
                    });

                    $("#travel_search_item").keyup(function () {
                        searchTravels();
                    });

                    $("#leave_search_item").keyup(function () {
                        searchLeaves();
                    });

                    $("#loan_search_item").keyup(function () {
                        searchLoans();
                    });

                    $("#lease_search_item").keyup(function () {
                        searchLeases();
                    });

                    $("#advance_search_item").keyup(function () {
                        searchAdvances();
                    });

                    $("#requisition_search_item").keyup(function () {
                        searchRequisitions();
                    });

                    $("#colleague").keyup(function () {
                        var col = $(this).val();
                        loadColleague(col);
                    });

                    $("#lColleague").keyup(function () {
                        var col = $(this).val();
                        loadLColleague(col);
                    });

                    $("#guarantorS").keyup(function () {
                        var col = $(this).val();
                        loadGuarantor(col);
                    });

                    $("#guarantorTS").keyup(function () {
                        var col = $(this).val();
                        loadGuarantor2(col);
                    });

                    $('#advance_submit').prop('disabled', 'true');

                    $("#advance").keyup(function () {

                        //var advance = {};
                        //advance.adPurpose = $("#advance_purpose").val();
                        var adVance = $("#advance").val();
                        adVance = fromCurrencyToNumber(adVance);
                        $.ajax({
                            type: "POST",
                            url: "SelfService.aspx/getAdvancePossible",
                            data: {},
                            contentType: "application/json; charset=utf-8",
                            dataType: "json",
                            success: function (response) {
                                //alert(response); alert(response.d);
                                if (response.d != null) {
                                    //$("#all_requests").empty();
                                    $.each(JSON.parse(response.d), function (key, val) {
                                        var limit = 0.33 * parseFloat(val.Netpayable);
                                        if (parseFloat(adVance) <= limit.toFixed(2)) {
                                            $("#advance_submit").removeAttr('disabled');
                                            $("#amounterror").css("color", "green");
                                            $("#advance").css("border-color", "green");
                                            $("#amounterror").html("Accepted");
                                        }
                                        else {
                                            //$("#amounterror").toggle();
                                            $("#advance_submit").attr("disabled", "disabled");
                                            $("#advance").css("border-color", "red");
                                            $("#amounterror").css("color", "red");
                                            $("#amounterror").html("The Amount You Are About To Request is Above Your Possible Limit");
                                            //window.setTimeout(function () {
                                            //    $("#advance").css("border-color", "grey");
                                            //    $("#amounterror").toggle();
                                            //}, 10000);
                                        }
                                    });
                                }
                            },
                            error: function () {
                            }

                        });
                    });

                    $("#loan_amount").keyup(function () {
                        var amount = $(this).val();
                        amount = fromCurrencyToNumber(amount);
                        checkLoanAmount(amount);
                    });

                    $("#loan_duration").keyup(function () {
                        getLoanPlan();
                        validateLoanAmount();
                    });

                    $(".request_type").change(function () {
                        var selectedID = $(this).find('option:selected').attr('value');
                        getRequests(selectedID);
                    });

                    $(document).on("click", ".submit", function (e) {
                        var data = {};
                        data.id = $(this).attr("ID");
                        data.requestType = $(this).attr("request");
                        var jsondata = JSON.stringify(data);
                        $.ajax({
                            type: "POST",
                            url: "SelfService.aspx/updateRequest",
                            data: jsondata,
                            contentType: "application/json; charset=utf-8",
                            dataType: "json", // dataType is json format
                            success: function (response) {
                                if (response.d == 2) {
                                    //retrieveUsers();
                                    swal("Your Request Has Been Submitted");
                                    loadAllRequests();
                                }
                                else {
                                    loadAllRequests();
                                }

                            },
                            error: function () {
                            }

                        });
                    });

                    $(document).on("click", ".editRequest", function (e) {

                        var id = $(this).attr("iddata");
                        //alert(document.getElementById("toggle").getAttribute("target"));
                        //document.getElementById("toggle").setAttribute("target", id);
                        //alert(document.getElementById("toggle").getAttribute("target"));
                        var request = {};
                        request.id = id;
                        request_id = JSON.stringify(request);

                        $.ajax({
                            url: "selfservice.aspx/editRequest",
                            type: "POST",
                            data: request_id,
                            contentType: "application/json; charset=utf-8",
                            dataType: "json",
                            success: function (response) {
                                $.each(JSON.parse(response.d), function (key, val) {
                                    var reqType = val.Request;
                                    switch (reqType) {
                                        case "Leave Application":
                                            $("#all_requests_history").hide();
                                            $("#history_header").hide();
                                            $("#leave_requests").show();
                                            $("#new_leave_request").show();
                                            document.getElementById("leave_toggle").setAttribute("target", id);
                                            $("#leave_request_history").hide();
                                            $('#leave_type').find('option:selected').val(val.LeaveType);
                                            //object.justification = object.leaveType;
                                            if (val.leaveType == 'SICK LEAVE') {
                                                $("#ailment").val(val.Justification);
                                            }
                                            else if (val.leaveType == 'UNPAID LEAVE') {
                                                $("#justification").val(val.Justification);
                                            }
                                            $("#leave_starts").val(val.Leave_Start);
                                            $("#leave_ends").val(val.Leave_End);
                                            //object.noDays = $("#leave_days").val();

                                            $("#resume_date").val(val.Resumption_Date);
                                            $("#stand_in").find('option:selected').val(val.Stand_in);
                                            var standin = $("#stand_in").find('option:selected').attr('id');
                                            $("#address_leave").val(val.Address);
                                            $("#phone_leave").val(val.Phone);
                                            break;
                                        case "Staff Travel":
                                            $("#all_requests_history").hide();
                                            $("#history_header").hide();
                                            $("#travel_requests").show();
                                            $("#new_travel_request").show();
                                            document.getElementById("travel_toggle").setAttribute("target", id);
                                            $("#travel_request_history").hide();
                                            $("#travel_purpose").val(val.Justification);
                                            $("#departure").val(val.Departure);
                                            $("#arrival").val(val.Arrival);
                                            $("input[name='ticket']:checked").val(val.Ticket_Type);
                                            $(".fill_in").find('option:selected').val(val.StandIn);
                                            var fillInID = $(".fill_in").find('option:selected').attr('value');
                                            $("#benefit").val(val.Benefit);
                                            break;
                                        case "Staff Loan":
                                            $("#all_requests_history").hide();
                                            $("#history_header").hide();
                                            $("#staff_loans").show();
                                            $("#new_loan_request").show();
                                            document.getElementById("loan_toggle").setAttribute("target", id);
                                            $("#loan_request_history").hide();
                                            $("#loan_purpose").val(val.Justification);
                                            $("#loan_amount").val(val.Amount);
                                            $("#guarantor").find('option:selected').val(val.Guarantor);
                                            var loanGuarantorID = $("#guarantor").find('option:selected').attr('id');
                                            break;
                                        case "Item Requisition":
                                            $("#all_requests_history").hide();
                                            $("#history_header").hide();
                                            $("#requisition").show();
                                            $("#new_requisition_request").show();
                                            document.getElementById("req_toggle").setAttribute("target", id);
                                            $("#requisition_request_history").hide();
                                            $("#itemname").val(val.Item_Ordered);
                                            $("#quantity").val(val.Quantity);
                                            $("#delivery_date").val(val.DateOfDelivery);
                                            break;
                                        case "Salary Advance":
                                            $("#all_requests_history").hide();
                                            $("#history_header").hide();
                                            $("#salary_advance").hide();
                                            $("#new_advance_request").show();
                                            document.getElementById("advance_toggle").setAttribute("target", id);
                                            $("#advance_request_history").hide();
                                            $("#advance_purpose").val(val.Justification);
                                            $("#advance").val(val.Amount_Requested);
                                            break;
                                        default:
                                            break;
                                    }
                                });
                            },
                            error: function (err) {

                            }
                        });
                    });

                    $(document).on("click", "#imBack", function (e) {

                        $.ajax({
                            type: "POST",
                            url: "SelfService.aspx/imBack",
                            data: {},
                            contentType: "application/json; charset=utf-8",
                            dataType: "json", // dataType is json format
                            success: function (response) {
                                var message = '';
                                if (response.d == 1) {
                                    //retrieveUsers();
                                    //loadAllRequests();
                                    message = '<h2 class="header smaller lighter blue" style="text-align:center">You Are Back, You Will Be Processed Shortly! </h2>';
                                    $("#approvalmessage").html(message);
                                    isBack = true;
                                    $("#imBack").attr("disabled", "disabled");
                                    //$("#leave_info").hide();
                                    //$("#Div2").show();
                                }
                                else {
                                    message = '<h2 class="header smaller lighter blue" style="text-align:center">You Are Still On Your Leave! </h2>';
                                    $("#approvalmessage").html(message);
                                    isBack = false;
                                }

                            },
                            error: function () {
                                var message = '<h2 class="header smaller lighter blue" style="text-align:center">There was a problem. We will get on it as soon as possible.</h2>';
                                $("#approvalmessage").html(message);
                            }

                        });
                    });

                    $("#resume").mouseout(function () {
                        var dateObject = {};
                        dateObject.start = new Date($("#leave_starts").val());
                        dateObject.end = new Date($("#leave_ends").val());
                        var noOfDays;
                        var dates = JSON.stringify(dateObject);
                        $.ajax({
                            type: "POST",
                            url: "SelfService.aspx/leaveDays",
                            data: dates,
                            contentType: "application/json; charset=utf-8",
                            dataType: "json",
                            success: function (result) {
                                $.each(JSON.parse(response.d), function (key, val) {
                                    $("#leave_days").val(val.noOfDays);
                                });
                            },
                            error: function () {
                            }

                        });
                    });
                });


                //function loadColleague(col) {
                //    var obj = {};
                //    obj.colleague = col;
                //    var info = JSON.stringify(obj);
                //    $.ajax({
                //        type: "POST",
                //        url: "SelfService.aspx/_loadColleague",
                //        data: info,
                //        contentType: "application/json; charset=utf-8",
                //        dataType: "json",
                //        success: function (response) {
                //            var fill_in = $("[id*=fill_in]");
                //            fill_in.empty().append('<option selected="selected" value="0" id = "0">Choose Replacing Colleague</option>');
                //            $.each(JSON.parse(response.d), function (key, val) {
                //                $("#fill_in").append('<option id="' + val.ID + '">' + val.First_Name + ' ' + val.Last_Name + ' (' + val.Company + ' - ' + val.Department + ' )</option>');
                //            });
                //        }
                //    });
                //}

                //function loadLColleague(col) {
                //    var obj = {};
                //    obj.colleague = col;
                //    var info = JSON.stringify(obj);
                //    $.ajax({
                //        type: "POST",
                //        url: "SelfService.aspx/_loadColleague",
                //        data: info,
                //        contentType: "application/json; charset=utf-8",
                //        dataType: "json",
                //        success: function (response) {
                //            var stand_in = $("[id*=stand_in]");
                //            stand_in.empty().append('<option selected="selected" value="0" id = "0">Choose Replacing Colleague</option>');
                //            $.each(JSON.parse(response.d), function (key, val) {
                //                $("#stand_in").append('<option id="' + val.ID + '">' + val.First_Name + ' ' + val.Last_Name + ' ( ' + val.Company + ' - ' + val.Department + ' )</option>');
                //            });
                //        }
                //    });
                //}
                function fromCurrencyToNumber(value) {
                    if (value == null) {
                        return value;
                    }
                    else {
                        value = value.replace("â¦", "");
                        value = value.replace("$", "");
                        value = value.replace(",", "");
                        value = value.replace(",", "");
                        value = value.replace(",", "");
                        value = value.replace(",", "");
                        value = value.replace(",", "");
                        value = value.replace(" ", "");
                        return value;
                    }
                }

                //function loadGuarantor(col) {
                //    var obj = {};
                //    obj.colleague = col;
                //    var info = JSON.stringify(obj);
                //    $.ajax({
                //        type: "POST",
                //        url: "SelfService.aspx/_loadColleague",
                //        data: info,
                //        contentType: "application/json; charset=utf-8",
                //        dataType: "json",
                //        success: function (response) {
                //            var guarantor = $("[id*=guarantor]");
                //            guarantor.empty().append('<option selected="selected" value="0" id = "0">Choose Guarantor</option>');
                //            $.each(JSON.parse(response.d), function (key, val) {
                //                $("#guarantor").append('<option id="' + val.ID + '" mail="' + val.ID + '">' + val.First_Name + ' ' + val.Last_Name + ' (' + val.Company + ' - ' + val.Department + ' )</option>');
                //            });
                //        }
                //    });
                //}

                //function loadGuarantor2(col) {
                //    var obj = {};
                //    obj.colleague = col;
                //    var info = JSON.stringify(obj);
                //    $.ajax({
                //        type: "POST",
                //        url: "SelfService.aspx/_loadColleague",
                //        data: info,
                //        contentType: "application/json; charset=utf-8",
                //        dataType: "json",
                //        success: function (response) {
                //            var guarantor = $("[id*=guarantor2]");
                //            guarantor.empty().append('<option selected="selected" value="0" id = "0">Choose Guarantor</option>');
                //            $.each(JSON.parse(response.d), function (key, val) {
                //                $("#guarantorT").append('<option id="' + val.ID + '" mail="' + val.ID + '">' + val.First_Name + ' ' + val.Last_Name + ' (' + val.Company + ' - ' + val.Department + ' )</option>');
                //            });
                //        }
                //    });
                //}

                function checkStatus() {
                    $.ajax({
                        type: "POST",
                        url: "SelfService.aspx/checkStatus",
                        data: {},
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (response) {
                            $.each(JSON.parse(response.d), function (key, val) {
                                if (val.Status_Name == "Confirmed") {
                                    $("#guarantorN").show();
                                    $("#guarantorT").show();
                                }
                                else { $("#guarantorN").hide(); $("#guarantorT").hide(); }

                            });
                        },
                        error: function () {
                        }

                    });
                }

                function checkLoanAmount(amount) {
                    //var object = {};
                    //object.val = value;
                    //data = JSON.stringify(object);
                    $.ajax({
                        type: "POST",
                        url: "SelfService.aspx/checkLoanAmount",
                        data: {},
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (response) {
                            /// alert(response);
                            if (response.d == null || response.d == "" || response.d == "[]" || response.d == "0") {
                                //$("#loan_amount").css("border-color", "red");
                            } else {
                                $.each(JSON.parse(response.d), function (key, val) {
                                    //alert(parseFloat(amount)); alert(parseFloat(2 * val.Fixed)); 
                                    if (parseFloat(amount) < parseFloat(2 * val.Fixed)) {
                                        $("#staffloan_submit").removeAttr('disabled');
                                        $("#loan_amount").css("border-color", "green");
                                        $("#loan_amounterror").show();
                                        $("#loan_amounterror").html("Amount Valid");
                                        //swal("Amount Valid");
                                    }
                                    else {
                                        //$("#amounterror").toggle();
                                        $("#staffloan_submit").attr("disabled", "disabled");
                                        $("#loan_amount").css("border-color", "red");
                                        $("#loan_amounterror").show();
                                        $("#loan_amounterror").html("Try Another Amount");
                                        //swal("Try another amount!");
                                        //alert("Try Another Amount");
                                    }
                                });
                            }
                        },
                        error: function () {
                        }

                    });
                }

                function validateLoanAmount() {
                    // Make sure NetPay for the month is not less than 67% of MonthlyNetPayable
                    //var object = {};
                    //object.val = value;
                    //object.
                    //data = JSON.stringify(object);

                    $.ajax({
                        type: "POST",
                        url: "SelfService.aspx/checkLoanAmount",
                        data: {},
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (response) {
                            /// alert(response);
                            if (response.d == null || response.d == "" || response.d == "[]" || response.d == "0") {
                                $("#loan_amount").css("border-color", "red");
                            } else {
                                $.each(JSON.parse(response.d), function (key, val) {
                                    //alert("Really, how?!");
                                    var net = val.Fixed; //alert(net);
                                    var lease = val.LeaseDed; //alert(lease);
                                    var loan = val.LoanDed; //alert(loan);
                                    var adv = val.SalaryadvanceDeD; //alert(adv);
                                    var monthNet = parseFloat(parseFloat(net) - (parseFloat(lease) + parseFloat(loan) + parseFloat(adv))).toFixed(2); //alert(monthNet);
                                    var pMBal = parseFloat(monthNet) - parseFloat($("#monthly_deduction").val());
                                    //alert(pMBal);
                                    if (pMBal >= (0.67 * parseFloat(net)).toFixed(2)) {
                                        $("#staffloan_submit").removeAttr('disabled');
                                        $("#loan_amount").css("border-color", "green");
                                        $("#loan_amounterror").show();
                                        $("#loan_amounterror").html("Amount Valid");
                                        //swal("Amount Valid");
                                    }
                                    else {
                                        //$("#amounterror").toggle();
                                        if (parseFloat($("#duration").val()) < 12) {
                                            $("#loan_amounterror").show();
                                            $("#loan_amounterror").html("Consider Stretching Your PayBack Period!");
                                           // swal("Consider Stretching Your PayBack Period!");
                                        }
                                        else {
                                            $("#loan_amounterror").show();
                                            $("#loan_amounterror").html("This Amount is Beyond Your Limit. Try a little below this figure!");

                                            //swal("This Amount is Beyond Your Limit. Try a little below this figure!");
                                        }
                                    }
                                });
                            }
                        },
                        error: function () {
                        }

                    });
                }

                function getLoanPlan() {
                    var amount = $("#loan_amount").val();
                    var payBack = parseFloat(parseFloat(amount) + ((4 / 100) * parseFloat(amount)));
                    var duration = $("#loan_duration").val();
                    var monthlyDeduction = payBack / duration;

                    $("#total_deduction").val(payBack.toFixed(2));
                    $("#monthly_deduction").val(monthlyDeduction.toFixed(2));
                }

                function validate(request, action) {
                    switch (request) {
                        case "travel":
                            var tog = document.getElementById("travel_toggle");
                            if ($("#travel_purpose").val() == '') {
                                $("#error_tv").html("Please Indicate The Purpose of Your Travel");
                                $("#error_tv").show();
                                window.setTimeout(function () {
                                    $("#error_tv").hide();
                                }, 10000);
                            }
                            else if ($("#departure").val() == '') {
                                $("#error_tv").html("Please Indicate Your Departure Date");
                                $("#error_tv").show();
                                window.setTimeout(function () {
                                    $("#error_tv").hide();
                                }, 10000);
                            }
                            else if ($("#arrival").val() == '') {
                                $("#error_tv").html("Please Indicate Your Arrival Date");
                                $("#error_tv").show();
                                window.setTimeout(function () {
                                    $("#error_tv").hide();
                                }, 10000);
                            }
                            else if ($("#email").val() == '') {
                                $("#error").html("Please enter User's Email");
                                $("#error").show();
                                window.setTimeout(function () {
                                    $("#error").hide();
                                }, 10000);
                            }
                            else if ($("input[name='ticket']:checked").val() == '') {
                                $("#error_tv").html("Choose Ticket Type");
                                $("#error_tv").show();
                                window.setTimeout(function () {
                                    $("#error_tv").hide();
                                }, 10000);
                            }
                            //else if ($("#fill_in").find('option:selected').attr('id') == '0') {
                            //    $("#error_tv").html("You Have To Choose Someone To Fill In While You're Away");
                            //    $("#error_tv").toggle();
                            //    window.setTimeout(function () {
                            //        $("#error_tv").toggle();
                            //    }, 10000);
                            //}
                            else if ($("#benefit").val() == '') {
                                $("#error_tv").html("Please describe the benefits of this trip to the organization");
                                $("#error_tv").toggle();
                                window.setTimeout(function () {
                                    $("#error_tv").toggle();
                                }, 10000);
                            }
                            else {
                                if (tog.getAttribute("target") == "target") {
                                    submitTravelRequest(action);
                                }
                                else if (!(tog.getAttribute("target") == "target")) {
                                    updateTravelRequest(tog.getAttribute("target"), action);
                                }
                            }
                            break;
                        case "leave":
                            var tog = document.getElementById("leave_toggle");
                            if ($("#leave_type").find('option:selected').attr('id') == '0') {
                                $("#error_lv").html("Please Choose Your Leave Type");
                                $("#error_lv").show();
                                window.setTimeout(function () {
                                    $("#error_lv").hide();
                                }, 10000);
                            }
                            else if ($("#leave_type").find('option:selected').attr('id') == 'SICK LEAVE') {
                                if ($("#ailment").val() == '') {
                                    $("#error_lv").html("Please Indicate The Kind of Ailment");
                                    $("#error_lv").show();
                                    window.setTimeout(function () {
                                        $("#error_lv").hide();
                                    }, 10000);
                                }
                            }
                            else if ($("#leave_type").find('option:selected').attr('id') == 'UNPAID LEAVE') {
                                if ($("#justification").val() == '') {
                                    $("#error_lv").html("Please Indicate Why You Are Taking An Unpaid Leave");
                                    $("#error_lv").show();
                                    window.setTimeout(function () {
                                        $("#error_lv").hide();
                                    }, 10000);
                                }
                            }
                            else if ($("#leave_starts").val() == '') {
                                $("#error_lv").html("Please Indicate The Date You Intend To Begin Your Leave");
                                $("#error_lv").show();
                                window.setTimeout(function () {
                                    $("#error_lv").hide();
                                }, 10000);
                            }
                            else if ($("#leave_ends").val() == '') {
                                $("#error_lv").html("Please Indicate The Date You Intend To Complete Your Leave");
                                $("#error_lv").show();
                                window.setTimeout(function () {
                                    $("#error_lv").hide();
                                }, 10000);
                            }
                            else if ($("#resume_date").val() == '') {
                                $("#error_lv").html("Please Indicate Your Intended Date of Resumption");
                                $("#error_lv").show();
                                window.setTimeout(function () {
                                    $("#error_lv").hide();
                                }, 10000);
                            }
                            else if ($("#phone_leave").val() == '') {
                                $("#error_lv").html("Please Enter A Reachable Phone Number");
                                $("#error_lv").show();
                                window.setTimeout(function () {
                                    $("#error_lv").hide();
                                }, 10000);
                            }
                            //else if ($("#stand_in").find('option:selected').attr('id') == '0') {
                            //    $("#error_lv").html("You Have To Choose Someone To Fill In While You're Away");
                            //    $("#error_lv").toggle();
                            //    window.setTimeout(function () {
                            //        $("#error_lv").toggle();
                            //    }, 10000);
                            //} 
                            else if ($("#address_leave").val() == '') {
                                $("#error_lv").html("You Have To Fill in An Address To Reach You While you're Away");
                                $("#error_lv").toggle();
                                window.setTimeout(function () {
                                    $("#error_lv").toggle();
                                }, 10000);
                            }
                            else {
                                if (tog.getAttribute("target") == "target") {
                                    submitLeaveRequest(action);
                                }
                                else if (!(tog.getAttribute("target") == "target")) {
                                    updateLeaveRequest(tog.getAttribute("target"), action);
                                }
                            }
                            break;
                        case "loan":
                            var tog = document.getElementById("loan_toggle");
                            if ($("#loan_amount").val() == '') {
                                $("#error_ln").html("Please Indicate How Much Loan you Want To Take");
                                $("#error_ln").show();
                                window.setTimeout(function () {
                                    $("#error_ln").hide();
                                }, 10000);
                            }
                            //else if ($("#loan_repayment").find('option:selected').attr('id') == '0') {
                            //    $("#error_ln").html("Please Choose How You Intend To Repay This Loan");
                            //    $("#error_ln").show();
                            //    window.setTimeout(function () {
                            //        $("#error_ln").hide();
                            //    }, 10000);
                            //}
                            else if ($("#loan_purpose").val() == '') {
                                $("#error_ln").html("Please Indicate The Purpose For This Loan");
                                $("#error_ln").show();
                                window.setTimeout(function () {
                                    $("#error_ln").hide();
                                }, 10000);
                            }
                            else if ($("#guarantor").find('option:selected').attr('id') == '0') {
                                $("#error_ln").html("You Have To Choose A Guarantor");
                                $("#error_ln").toggle();
                                window.setTimeout(function () {
                                    $("#error_ln").toggle();
                                }, 10000);
                            }
                            else {
                                if (tog.getAttribute("target") == "target") {
                                    submitStaffLoanRequest(action);
                                }
                                else if (!(tog.getAttribute("target") == "target")) {
                                    updateStaffLoanRequest(tog.getAttribute("target"), action);
                                }
                            }
                            break;
                        case "lease":
                            if ($("input[name='items']:checked").val() == '') {
                                $("#error_ls").html("Choose Item To Lease");
                                $("#error_ls").show();
                                window.setTimeout(function () {
                                    $("#error_ls").hide();
                                }, 10000);
                            }
                            //else if ($("#lease_repayment").find('option:selected').attr('id') == '0') {
                            //    $("#error_ls").html("Please Choose How You Intend To Pay For This Lease");
                            //    $("#error_ls").show();
                            //    window.setTimeout(function () {
                            //        $("#error_ls").hide();
                            //    }, 10000);
                            //}
                            else if ($("input[name='onLoan']:checked").val() == '') {
                                $("#error_ls").html("Please Indicate Whether Or Not You Are Currently Servicing A Loan");
                                $("#error_ls").show();
                                window.setTimeout(function () {
                                    $("#error_ls").hide();
                                }, 10000);
                            }
                            else if ($("input[name='onLoan']:checked").val() == 'Yes') {
                                if ($("#amountLoaned").val() == '') {
                                    $("#error_ls").html("Please Indicate Amount of Loan Received");
                                    $("#error_ls").show();
                                    window.setTimeout(function () {
                                        $("#error_ls").hide();
                                    }, 10000);
                                }
                                //else if ($("#loan_repaymentPlan").find('option:selected').attr('id') == '0') {
                                //    $("#error_ls").html("Please Indicate The Loan Servicing Package You Are Running");
                                //    $("#error_ls").show();
                                //    window.setTimeout(function () {
                                //        $("#error_ls").hide();
                                //    }, 10000);
                                //}
                                else if ($("#loan_balance").val() == '') {
                                    $("#error_ls").html("Please Indicate How Much of Your Loan is Yet To Be Paid Back");
                                    $("#error_ls").show();
                                    window.setTimeout(function () {
                                        $("#error_ls").hide();
                                    }, 10000);
                                }
                            }
                            else {
                                submitStaffLeaseRequest(action);
                            }
                            break;
                        case "advance":
                            var tog = document.getElementById("advance_toggle");
                            if ($("#advance").val() == '') {
                                $("#error_ad").html("Indicate How Much You Want To Take In Advance (33% of Your Take - Home)");
                                $("#error_ad").show();
                                window.setTimeout(function () {
                                    $("#error_ad").hide();
                                }, 10000);
                            }
                            else if ($("#advance_purpose").val() == '') {
                                $("#error_ad").html("Please Choose How You Intend To Pay For This Lease");
                                $("#error_ad").show();
                                window.setTimeout(function () {
                                    $("#error_ad").hide();
                                }, 10000);
                            }
                            else {
                                if (tog.getAttribute("target") == "target") {
                                    submitSalaryAdvanceRequest(action);
                                }
                                else if (!(tog.getAttribute("target") == "target")) {
                                    updateSalaryAdvanceRequest(tog.getAttribute("target"), action);
                                }
                            }
                            break;
                        case "requisition":
                            var tog = document.getElementById("req_toggle");
                            if ($("#itemname").val() == '') {
                                $("#error_rq").html("Please Enter The Name of The Item(s)");
                                $("#error_rq").show();
                                window.setTimeout(function () {
                                    $("#error_rq").hide();
                                }, 10000);
                            }
                            else if ($("#quantity").val() == '') {
                                $("#error_rq").html("Please Indicate The Quantity");
                                $("#error_rq").show();
                                window.setTimeout(function () {
                                    $("#error_rq").hide();
                                }, 10000);
                            }
                            else if ($("#delivery_date").val() == '') {
                                $("#error_rq").html("Please Indicate The Delivery Date");
                                $("#error_rq").show();
                                window.setTimeout(function () {
                                    $("#error_rq").hide();
                                }, 10000);
                            }
                            else {
                                if (tog.getAttribute("target") == "target") {
                                    submitRequisitionRequest(action);
                                }
                                else if (!(tog.getAttribute("target") == "target")) {
                                    updateRequisitionRequest(tog.getAttribute("target"), action);
                                }
                            }
                            break;
                    }
                }

                function refresh(type) {
                    switch (type) {
                        case "all":
                            $("#waitImage").show();
                            loadAllRequests();
                            break;
                        case "tvl":
                            $("#waitImage").show();
                            loadTravelRequests();
                            break;
                        case "lve":
                            $("#waitImageLv").show();
                            loadLeaveRequests();
                            break;
                        case "lon":
                            $("#waitImageLn").show();
                            loadLoanRequests();
                            break;
                        case "lse":
                            loadLeaseRequests();
                            break;
                        case "adv":
                            $("#waitImageAd").show();
                            loadSalaryAdvanceRequests();
                            break;
                        case "req":
                            $("#waitImageRq").show();
                            loadRequisitionsRequests();
                            break;
                    }
                }

                function calcBusinessDays(dDate1, dDate2) {         // input given as Date objects

                    var iWeeks, iDateDiff, iAdjust = 0;

                    if (dDate2 < dDate1) return -1;                 // error code if dates transposed

                    var iWeekday1 = dDate1.getDay();                // day of week
                    var iWeekday2 = dDate2.getDay();

                    iWeekday1 = (iWeekday1 == 0) ? 7 : iWeekday1;   // change Sunday from 0 to 7
                    iWeekday2 = (iWeekday2 == 0) ? 7 : iWeekday2;

                    if ((iWeekday1 > 5) && (iWeekday2 > 5)) iAdjust = 1;  // adjustment if both days on weekend

                    iWeekday1 = (iWeekday1 > 5) ? 5 : iWeekday1;    // only count weekdays
                    iWeekday2 = (iWeekday2 > 5) ? 5 : iWeekday2;

                    // calculate differnece in weeks (1000mS * 60sec * 60min * 24hrs * 7 days = 604800000)
                    iWeeks = Math.floor((dDate2.getTime() - dDate1.getTime()) / 604800000)

                    if (iWeekday1 <= iWeekday2) {
                        iDateDiff = (iWeeks * 5) + (iWeekday2 - iWeekday1)
                    } else {
                        iDateDiff = ((iWeeks + 1) * 5) - (iWeekday1 - iWeekday2)
                    }

                    iDateDiff -= iAdjust                            // take into account both days on weekend

                    return (iDateDiff + 1);                         // add 1 because dates are inclusive

                }

                function submitLeaveRequest(action) {

                    var object = {};
                    object.leaveType = $('#leave_type').find('option:selected').val();
                    object.justification = object.leaveType;
                    if (object.leaveType == 'SICK LEAVE') {
                        var ailmenT = $("#ailment").val();
                        object.justification = ailmenT;
                    }
                    else if (object.leaveType == 'UNPAID LEAVE') {
                        var rsnLv = $("#justification").val();
                        object.justification = rsnLv;
                    }
                    object.leaveStarts = $("#leave_starts").val();
                    object.leaveEnds = $("#leave_ends").val();
                    //object.noDays = $("#leave_days").val();

                    object.resume = $("#resume_date").val();
                    object.standIn = $("#stand_in").find('option:selected').attr('name');
                    object.standInID = $("#stand_in").find('option:selected').attr('id');
                    object.address = $("#address_leave").val();
                    object.phone = $("#phone_leave").val();
                    object.method = action;

                    var jsonData = JSON.stringify(object);

                    $.ajax({
                        type: "POST",
                        url: "SelfService.aspx/submitLeaveRequest",
                        data: jsonData,
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (result) {
                            if (result.d == 1) {
                                //retrieveUsers();
                                // alert(result.response);
                                $("#waitImage").hide();
                                swal("Leave Request Submitted Successfully!", "success");
                                loadLeaveRequests();
                                loadAllRequests();
                                window.setTimeout(function () {
                                    $("#success_leave").toggle();
                                }, 10000);
                            }
                            else {
                                $("#waitImage").hide();
                                swal("There was an error, Please try again!");
                                //alert(result.response);
                                //$("#error_leave").toggle();
                                //window.setTimeout(function () {
                                //    $("#error_leave").toggle();
                                //}, 10000);
                            }
                        },
                        error: function () {
                        }

                    });
                }

                function updateLeaveRequest(id, action) {

                    var object = {};
                    object.leaveType = $('#leave_type').find('option:selected').val();
                    object.justification = object.leaveType;
                    if (object.leaveType == 'SICK LEAVE') {
                        var ailmenT = $("#ailment").val();
                        object.justification = ailmenT;
                    }
                    else if (object.leaveType == 'UNPAID LEAVE') {
                        var rsnLv = $("#justification").val();
                        object.justification = rsnLv;
                    }
                    object.leaveStarts = $("#leave_starts").val();
                    object.leaveEnds = $("#leave_ends").val();
                    //object.noDays = $("#leave_days").val();

                    object.resume = $("#resume_date").val();
                    object.standIn = $("#stand_in").find('option:selected').val();
                    object.standInID = $("#stand_in").find('option:selected').attr('id');
                    object.address = $("#address_leave").val();
                    object.phone = $("#phone_leave").val();
                    object.method = action;
                    object.ID = id;
                    var jsonData = JSON.stringify(object);

                    $.ajax({
                        type: "POST",
                        url: "SelfService.aspx/updateLeaveRequest",
                        data: jsonData,
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (result) {
                            if (result.d == 1) {
                                //retrieveUsers();
                                // alert(result.response);
                                $("#waitImage").hide();
                                swal("Your Updated Leave Request Was Submitted Succesfully!", "success");
                                loadLeaveRequests();
                                loadAllRequests();
                                window.setTimeout(function () {
                                    $("#success_leave").toggle();
                                }, 10000);
                            }
                            else {
                                $("#waitImage").hide();
                                swal("There was an error, Please try again!", "error");
                                //alert(result.response);
                                //$("#error_leave").toggle();
                                //window.setTimeout(function () {
                                //    $("#error_leave").toggle();
                                //}, 10000);
                            }
                        },
                        error: function () {
                        }

                    });
                }

                function submitTravelRequest(action) {

                    var tObject = {};
                    tObject.purpose = $("#travel_purpose").val();
                    tObject.deparTure = $("#departure").val();
                    tObject.depTime = $("#dep_time_of_day").find('option:selected').val();
                    tObject.arriVal = $("#arrival").val();
                    tObject.arrTime = $("#arr_time_of_day").find('option:selected').val();
                    tObject.ticKet = $("input[name='ticket']:checked").val();
                    tObject.fillIn = $(".fill_in").find('option:selected').text();
                    tObject.fillInID = $(".fill_in").find('option:selected').attr('value');
                    tObject.beneFit = $("#benefit").val();
                    tObject.method = action;

                    var travelData = JSON.stringify(tObject);

                    $.ajax({
                        type: "POST",
                        url: "SelfService.aspx/submitTravelRequest",
                        data: travelData,
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (response) {
                            if (response.d == 1) {
                                //retrieveUsers();
                                $("#waitImage").hide();
                                swal("Travel Request Submitted Successfully!", "success");
                                loadTravelRequests();
                                loadAllRequests();
                                //window.setTimeout(function () {
                                //    $("#success_travel").toggle();
                                //}, 10000);
                            }
                            else {
                                $("#waitImage").hide();
                                swal("There was an error. Please Try Again!", "error");
                            }
                        },
                        error: function () {
                        }

                    });
                }

                function updateTravelRequest(id, action) {

                    var tObject = {};
                    tObject.purpose = $("#travel_purpose").val();
                    tObject.deparTure = $("#departure").val();
                    tObject.depTime = $("#dep_time_of_day").find('option:selected').val();
                    tObject.arriVal = $("#arrival").val();
                    tObject.arrTime = $("#arr_time_of_day").find('option:selected').val();
                    tObject.ticKet = $("input[name='ticket']:checked").val();
                    tObject.fillIn = $(".fill_in").find('option:selected').text();
                    tObject.fillInID = $(".fill_in").find('option:selected').attr('value');
                    tObject.beneFit = $("#benefit").val();
                    tObject.method = action;
                    tObject.ID = id;
                    var travelData = JSON.stringify(tObject);

                    $.ajax({
                        type: "POST",
                        url: "SelfService.aspx/updateTravelRequest",
                        data: travelData,
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (response) {
                            if (response.d == 1) {
                                //retrieveUsers();
                                $("#waitImage").hide();
                                swal("Travel Request Updated Successfully!", "success");
                                loadTravelRequests();
                                loadAllRequests();
                                window.setTimeout(function () {
                                    $("#success_travel").toggle();
                                }, 10000);
                            }
                            else {
                                $().hide();
                                swal("There was an error. Please try again!", "error");
                            }
                        },
                        error: function () {
                        }

                    });
                }

                function submitStaffLoanRequest(action) {

                    var lObject = {};
                    lObject.lPurpose = $("#loan_purpose").val();
                    lObject.aMount = $("#loan_amount").val();
                    lObject.duration = $("#loan_duration").val();
                    lObject.monthlyDeduction = $("#monthly_deduction").val();
                    lObject.totalDeduction = $("#total_deduction").val();
                    lObject.paymentPlan = "NULL"; //$("#loan_repayment").find('option:selected').val();
                    lObject.loanGuarantor = $(".guarantor").find('option:selected').text();
                    lObject.loanGuarantorID = $(".guarantor").find('option:selected').attr('value');
                    lObject.loanGuarantorEmail = $(".guarantor").find('option:selected').attr('value');
                    lObject.loanGuarantor2 = $(".guarantorT").find('option:selected').text();
                    lObject.loanGuarantorID2 = $(".guarantorT").find('option:selected').attr('value');
                    lObject.loanGuarantorEmail2 = $(".guarantorT").find('option:selected').attr('value');
                    lObject.method = action;
                    var loanData = JSON.stringify(lObject);

                    //var lPurpose = $("#loan_purpose").val();
                    //var aMount = $("#loan_amount").val();
                    //var paymentPlan = $("#loan_repayment").find('option:selected').val();
                    //var loanGuarantor = $("#guarantor").find('option:selected').val();
                    //var loanUpload = $("#staffloanform").get(0);
                    //var loanDoc = loanUpload.files;

                    //var data = new FormData();
                    //for (var i = 0; i < loanDoc.length; i++) {
                    //    data.append(loanDoc[i].name, loanDoc[i]);
                    //}
                    //data.append("loanpurpose", lPurpose);
                    //data.append("amount", aMount);
                    //data.append("loanpayment", paymentPlan);
                    //data.append("loanguarantor", loanGuarantor);
                    //data.append("method", action)

                    $.ajax({
                        url: "SelfService.aspx/submitStaffLoanRequest",
                        type: "POST",
                        data: loanData,
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (response) {
                            if (response.d == 1) {
                                //retrieveUsers();
                                $("#waitImage").hide();
                                swal("Staff Loan Request Submitted Successfully!", "success");
                                loadLoanRequests();
                                loadAllRequests();
                                window.setTimeout(function () {
                                    $("#success_loan").toggle();
                                }, 10000);
                            }
                            else {
                                $("#waitImage()").hide();
                                swal("There was an error. Please try again!", "error");
                            }
                        },
                        error: function () {
                        }

                    });

                }

                function updateStaffLoanRequest(id, action) {

                    var lObject = {};
                    lObject.lPurpose = $("#loan_purpose").val();
                    lObject.aMount = $("#loan_amount").val();
                    lObject.duration = $("#loan_duration").val();
                    lObject.monthlyDeduction = $("#monthly_deduction").val();
                    lObject.totalDeduction = $("#total_deduction").val();
                    lObject.paymentPlan = "NULL"; //$("#loan_repayment").find('option:selected').val();
                    lObject.loanGuarantor = $(".guarantor").find('option:selected').text();
                    lObject.loanGuarantorID = $(".guarantor").find('option:selected').attr('value');
                    lObject.loanGuarantorEmail = $(".guarantor").find('option:selected').attr('value');
                    lObject.loanGuarantor2 = $(".guarantorT").find('option:selected').text();
                    lObject.loanGuarantorID2 = $(".guarantorT").find('option:selected').attr('value');
                    lObject.loanGuarantorEmail2 = $(".guarantorT").find('option:selected').attr('value');
                    lObject.method = action;
                    lObject.ID = id;
                    var loanData = JSON.stringify(lObject);

                    $.ajax({
                        url: "SelfService.aspx/updateStaffLoanRequest",
                        type: "POST",
                        data: loanData,
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (response) {
                            if (response.d == 1) {
                                //retrieveUsers();
                                $("#waitImage").hide();
                                swal("Staff Loan Request Updated Successfully!", "success");
                                loadLoanRequests();
                                loadAllRequests();
                                window.setTimeout(function () {
                                    $("#success_loan").toggle();
                                }, 10000);
                            }
                            else {
                                $("#waitImage").hide();
                                swal("There was an error. Please try again!", "error");
                            }
                        },
                        error: function () {
                        }

                    });

                }

                function submitStaffLeaseRequest(action) {

                    var leaseObject = {};
                    leaseObject.item = $("input[name='items']:checked").val();
                    leaseObject.itemDescription = leaseObject.item;
                    if ($("input[name='items']:checked").val() == "Others") {
                        leaseObject.itemDescripion = $("#description").val();
                    }
                    leaseObject.leaseRepayment = "NULL"; //$("#lease_repayment").find('option:selected').val();
                    leaseObject.onloan = $("input[name='onLoan']:checked").val();
                    if ($("input[name='onLoan']:checked").val() == "Yes") {
                        leaseObject.amount_loaned = $("#amountLoaned").val();
                        leaseObject.loanRepayment = "NULL"; //$("#loan_repaymentPlan").find('option:selected').val();
                        leaseObject.loanBalance = $("#loan_balance").val();
                    }
                    else {
                        leaseObject.amount_loaned = "N_A";
                        leaseObject.loanRepayment = "N_A";
                        leaseObject.loanBalance = "N_A";
                    }
                    leaseObject.method = action;
                    var leaseData = JSON.stringify(leaseObject);

                    //var item = $("input[name='items']:checked").val();
                    //var itemDescription = item;
                    //if ($("input[name='items']:checked").val() == "Others") {
                    //    var itemDescripion = $("#description").val();
                    //}
                    //var leaseRepayment = $("#lease_repayment").find('option:selected').val();
                    //var onloan = $("input[name='onLoan']:checked").val();
                    //if ($("input[name='onLoan']:checked").val() == "Yes") {
                    //    var amount_loaned = $("#amountLoaned").val();
                    //    var loanRepayment = $("#loan_repaymentPlan").find('option:selected').val();
                    //    var loanBalance = $("#loan_balance").val();
                    //}
                    //else {
                    //    var amount_loaned = "N_A";
                    //    var loanRepayment = "N_A";
                    //    var loanBalance = "N_A";
                    //}
                    //var leaseUpload = $("#staffleaseform").get(0);
                    //var leaseDoc = leaseUpload.files;

                    //var data = new FormData();
                    //for (var i = 0; i < leaseDoc.length; i++) {
                    //    data.append(leaseDoc[i].name, leaseDoc[i]);
                    //}
                    //data.append("asset", item);
                    //data.append("description", itemDescription);
                    //data.append("leasepayment", leaseRepayment);
                    //data.append("gotLoan", onloan);
                    //data.append("amountLoaned", amount_loaned);
                    //data.append("loanrepayment", loanRepayment);
                    //data.append("loanbalance", loanBalance);
                    //data.append("method", action)

                    $.ajax({
                        url: "SelfService.aspx/submitStaffLeaseRequest",
                        type: "POST",
                        data: leaseData,
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (response) {
                            if (response.d == 1) {
                                //retrieveUsers();
                                $("#success_lease").toggle();
                                loadLeaseRequests();
                                loadAllRequests();
                                window.setTimeout(function () {
                                    $("#success_lease").toggle();
                                }, 10000);
                            }
                            else {
                                $("#error_lease").toggle();
                                window.setTimeout(function () {
                                    $("#error_lease").toggle();
                                }, 10000);
                            }
                        },
                        error: function () {
                        }

                    });

                }

                function submitSalaryAdvanceRequest(action) {

                    var adObject = {};
                    adObject.adPurpose = $("#advance_purpose").val();
                    adObject.adVance = $("#advance").val();
                    var adVance = $("#advance").val();
                    //adObject.deductingMonth = $("#deducting_month").find('option:selected').val();
                    adObject.method = action;
                    var advanceData = JSON.stringify(adObject);

                    //var adPurpose = $("#advance_purpose").val();
                    //var adVance = $("#advance").val();
                    //var deductingMonth = $("#deducting_month").find('option:selected').val();
                    //var advanceUpload = $("#salaryadvanceform").get(0);
                    //var advanceDoc = advanceUpload.files;

                    //var data = new FormData();
                    //for (var i = 0; i < advanceDoc.length; i++) {
                    //    data.append(advanceDoc[i].name, advanceDoc[i]);
                    //}
                    //data.append("advancepurpose", adPurpose);
                    //data.append("advance", adVance);
                    //data.append("deducting_month", deductingMonth);
                    //data.append("method", action)

                    $.ajax({
                        type: "POST",
                        url: "SelfService.aspx/submitSalaryAdvanceRequest",
                        data: advanceData,
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (response) {
                            if (response.d == 1) {
                                //retrieveUsers();
                                $("#waitImage").hide();
                                swal("Salary Advance Request Submitted Successfully!", "success");
                                loadSalaryAdvanceRequests();
                                loadAllRequests();
                                window.setTimeout(function () {
                                    $("#success_advance").toggle();
                                }, 10000);
                            }
                            else {
                                $("#waitImage").hide();
                                swal("There was an error. Please try again!", "error");
                            }
                        },
                        error: function () {
                        }

                    });

                }

                function updateSalaryAdvanceRequest(id, action) {

                    var adObject = {};
                    adObject.adPurpose = $("#advance_purpose").val();
                    adObject.adVance = $("#advance").val();
                    var adVance = $("#advance").val();
                    //adObject.deductingMonth = $("#deducting_month").find('option:selected').val();
                    adObject.method = action;
                    adObject.ID = id;
                    var advanceData = JSON.stringify(adObject);

                    //var adPurpose = $("#advance_purpose").val();
                    //var adVance = $("#advance").val();
                    //var deductingMonth = $("#deducting_month").find('option:selected').val();
                    //var advanceUpload = $("#salaryadvanceform").get(0);
                    //var advanceDoc = advanceUpload.files;

                    //var data = new FormData();
                    //for (var i = 0; i < advanceDoc.length; i++) {
                    //    data.append(advanceDoc[i].name, advanceDoc[i]);
                    //}
                    //data.append("advancepurpose", adPurpose);
                    //data.append("advance", adVance);
                    //data.append("deducting_month", deductingMonth);
                    //data.append("method", action)

                    $.ajax({
                        type: "POST",
                        url: "SelfService.aspx/updateSalaryAdvanceRequest",
                        data: advanceData,
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (response) {
                            if (response.d == 1) {
                                //retrieveUsers();
                                $("#waitImage").hide();
                                swal("Salary Advance Request Updated Successfully!", "success");
                                loadSalaryAdvanceRequests();
                                loadAllRequests();
                                window.setTimeout(function () {
                                    $("#success_advance").toggle();
                                }, 10000);
                            }
                            else {
                                $("#waitImage").hide();
                                swal("There was an error. Please try again!", "error");
                            }
                        },
                        error: function () {
                        }

                    });

                }

                function submitRequisitionRequest(action) {

                    var reqObject = {};
                    reqObject.order = $("#itemname").val();
                    reqObject.qty = $("#quantity").val();
                    reqObject.dod = $("#delivery_date").val();
                    reqObject.method = action;
                    var reqData = JSON.stringify(reqObject);
                    //var reqUpload = $("#requisitionform").get(0);
                    //var reqDoc = reqUpload.files;

                    //var data = new FormData();
                    //for (var i = 0; i < reqDoc.length; i++) {
                    //    data.append(reqDoc[i].name, reqDoc[i]);
                    //}
                    //data.append("itemOrdered", order);
                    //data.append("qUantity", qty);
                    //data.append("deliveryDate", dod);
                    //data.append("method", action)

                    $.ajax({
                        type: "POST",
                        url: "SelfService.aspx/submitRequisitionRequest",
                        data: reqData,
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (response) {
                            if (response.d == 1) {
                                //retrieveUsers();
                                $("#waitImage").hide();
                                swal("Requisition Request Submitted Successfully!", "success");
                                loadRequisitionsRequests();
                                loadAllRequests();
                                window.setTimeout(function () {
                                    $("#success_requisition").toggle();
                                }, 10000);
                            }
                            else {
                                $("#waitImage").hide();
                                swal("There was an error. Please try again!", "error");
                            }
                        },
                        error: function () {
                        }

                    });

                }

                function updateRequisitionRequest(id, action) {

                    var reqObject = {};
                    reqObject.order = $("#itemname").val();
                    reqObject.qty = $("#quantity").val();
                    reqObject.dod = $("#delivery_date").val();
                    reqObject.method = action;
                    reqObject.ID = id;
                    var reqData = JSON.stringify(reqObject);
                    //var reqUpload = $("#requisitionform").get(0);
                    //var reqDoc = reqUpload.files;

                    //var data = new FormData();
                    //for (var i = 0; i < reqDoc.length; i++) {
                    //    data.append(reqDoc[i].name, reqDoc[i]);
                    //}
                    //data.append("itemOrdered", order);
                    //data.append("qUantity", qty);
                    //data.append("deliveryDate", dod);
                    //data.append("method", action)

                    $.ajax({
                        type: "POST",
                        url: "SelfService.aspx/updateRequisitionRequest",
                        data: reqData,
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (response) {
                            if (response.d == 1) {
                                //retrieveUsers();
                                swal("Your Updated Requisition Request was Submitted Successfully!");
                                loadRequisitionsRequests();
                                loadAllRequests();
                                window.setTimeout(function () {
                                    $("#success_requisition").toggle();
                                }, 10000);
                            }
                            else {
                                $("#waitImage").hide();
                                swal("There was an error, please try again!");
                                //window.setTimeout(function () {
                                //    $("#error_requisition").toggle();
                                //}, 10000);
                            }
                        },
                        error: function () {
                        }

                    });

                }

                function getRequests(type) {

                    var action = "";
                    var edit = "";
                    var obj = {};
                    obj.key = type;
                    obj.Type = "All";
                    objdata = JSON.stringify(obj);

                    $(function () {
                        $.ajax({
                            type: "POST",
                            url: "SelfService.aspx/getRequests",
                            data: objdata,
                            contentType: "application/json; charset=utf-8",
                            dataType: "json", // dataType is json format
                            success: function (response) {
                                if (response.d != null) {
                                    $("#all_requests").empty();
                                    $.each(JSON.parse(response.d), function (key, val) {
                                        if (val.Approval_Progress == "100") {
                                            action = '<button type="button"  request="' + val.Request_Type + '" ID="' + val.ID + '" class="submit" value="Submit"> Submit</button>';
                                            edit = '<span role = "button" class = "editRequest" iddata = "' + val.ID + '" data-action="\settings\"><i class="\ace-icon fa fa-pencil bigger-130\"></i></span> ';
                                        }
                                        else {
                                            action = " - ";//'<div class="hidden-sm hidden-xs action-buttons"><a class="red" href="#"><i class="ace-icon fa fa-trash-o bigger-130"></i></a></div>';
                                            edit = " - ";
                                        }
                                        switch (val.Approval_Status) {
                                            case "Pending":
                                                $("#all_requests").append('<tr><td>' + val.Request_Type + '</td><td>' + val.Date_Submitted + ' </td><td><span class="label label-warning">' + val.Approval_Status + '</span></td><td>' + action + '</td><td>' + edit + '</td></tr>');
                                                break;
                                            case "Approved":
                                                $("#all_requests").append('<tr><td>' + val.Request_Type + '</td><td>' + val.Date_Submitted + ' </td><td><span class="label label-success">' + val.Approval_Status + '</span></td><td>' + action + '</td><td>' + edit + '</td></tr>');
                                                break;
                                            case "Rejected":
                                                $("#all_requests").append('<tr><td>' + val.Request_Type + '</td><td>' + val.Date_Submitted + ' </td><td><span class="label label-danger">' + val.Approval_Status + '</span></td><td>' + action + '</td><td>' + edit + '</td></tr>');
                                                break;
                                            default:
                                                $("#all_requests").append('<tr><td>' + val.Request_Type + '</td><td>' + val.Date_Submitted + ' </td><td><span class="label label-default">' + val.Approval_Status + '</span></td><td>' + action + '</td><td>' + edit + '</td></tr>');
                                        }
                                    });
                                }
                            },
                            error: function () {
                            }
                        });
                    });

                }

                //function searchRequests() {
                //    var obj = {};
                //    obj.search = $("#history_search_item").val();;
                //    obj.rtype = "All";
                //    objdata = JSON.stringify(obj);

                //    $(function () {
                //        $.ajax({
                //            type: "POST",
                //            url: "SelfService.aspx/searchRequests",
                //            data: objdata,
                //            contentType: "application/json; charset=utf-8",
                //            dataType: "json", // dataType is json format
                //            success: function (response) {
                //                if (response.d != null) {
                //                    $("#all_requests").empty();
                //                    $.each(JSON.parse(response.d), function (key, val) {
                //                        $("#all_requests").append('<tr><td>' + val.Request_Type + '</td><td>' + val.Date_Submitted + ' </td><td><span class="label label-warning">' + val.Approval_Status + '</span></td><td><div class="hidden-sm hidden-xs action-buttons"><a class="red" href="#"><i class="ace-icon fa fa-trash-o bigger-130">' + "Delete" + '</i></a></div></td></tr>');
                //                    });
                //                }
                //            },
                //            error: function () {
                //            }
                //        });
                //    });

                //}


                function loadAllRequests() {
                    var action = "";
                    $.ajax({
                        type: "POST",
                        url: "SelfService.aspx/getAllRequests",
                        data: {},
                        contentType: "application/json; charset=utf-8",
                        dataType: "json", // dataType is json format
                        success: function (response) {
                            $("#all_requests").empty();
                            $("#waitImage").hide();
                            $.each(JSON.parse(response.d), function (key, val) {
                                //onclick = submitSaved(+' + val.ID + ', ' + val.Request_Type + ' +)\
                                if (val.Approval_Progress == "100") {
                                    action = '<button type="button"  request="' + val.Request_Type + '" ID="' + val.ID + '" class="submit" value="Submit"> Submit</button>';
                                    edit = '<span role = "button" class = "editRequest" iddata = "' + val.ID + '" data-action="\settings\"><i class="\ace-icon fa fa-pencil bigger-130\"></i></span> ';
                                }
                                else {
                                    action = " - ";//'<div class="hidden-sm hidden-xs action-buttons"><a class="red" href="#"><i class="ace-icon fa fa-trash-o bigger-130"></i></a></div>';
                                    edit = " - ";
                                }
                                switch (val.Approval_Status) {
                                    case "Pending":
                                        $("#all_requests").append('<tr><td>' + val.Request_Type + '</td><td>' + val.Date_Submitted + ' </td><td><span class="label label-warning">' + val.Approval_Status + '</span></td><td>' + action + '</td><td>' + edit + '</td></tr>');
                                        break;
                                    case "Approved":
                                        $("#all_requests").append('<tr><td>' + val.Request_Type + '</td><td>' + val.Date_Submitted + ' </td><td><span class="label label-success">' + val.Approval_Status + '</span></td><td>' + action + '</td><td>' + edit + '</td></tr>');
                                        break;
                                    case "Rejected":
                                        $("#all_requests").append('<tr><td>' + val.Request_Type + '</td><td>' + val.Date_Submitted + ' </td><td><span class="label label-danger">' + val.Approval_Status + '</span></td><td>' + action + '</td><td>' + edit + '</td></tr>');
                                        break;
                                    default:
                                        $("#all_requests").append('<tr><td>' + val.Request_Type + '</td><td>' + val.Date_Submitted + ' </td><td><span class="label label-default">' + val.Approv